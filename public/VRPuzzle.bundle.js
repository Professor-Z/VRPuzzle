!function(e){function t(e){var t=document.getElementsByTagName("head")[0],n=document.createElement("script");n.type="text/javascript",n.charset="utf-8",n.src=u.p+""+e+"."+E+".hot-update.js",t.appendChild(n)}function n(e){if("undefined"==typeof XMLHttpRequest)return e(new Error("No browser support"));try{var t=new XMLHttpRequest,n=u.p+""+E+".hot-update.json";t.open("GET",n,!0),t.timeout=1e4,t.send(null)}catch(i){return e(i)}t.onreadystatechange=function(){if(4===t.readyState)if(0===t.status)e(new Error("Manifest request to "+n+" timed out."));else if(404===t.status)e();else if(200!==t.status&&304!==t.status)e(new Error("Manifest request to "+n+" failed."));else{try{var i=JSON.parse(t.responseText)}catch(r){return void e(r)}e(null,i)}}}function i(e){function t(e,t){"ready"===M&&s("prepare"),P++,u.e(e,function(){function n(){P--,"prepare"===M&&(T[e]||l(e),0===P&&0===O&&d())}try{t.call(null,i)}finally{n()}})}var n=j[e];if(!n)return u;var i=function(t){return n.hot.active?j[t]?(j[t].parents.indexOf(e)<0&&j[t].parents.push(e),n.children.indexOf(t)<0&&n.children.push(t)):H=[e]:(console.warn("[HMR] unexpected require("+t+") from disposed module "+e),H=[]),u(t)};for(var r in u)Object.prototype.hasOwnProperty.call(u,r)&&(f?Object.defineProperty(i,r,function(e){return{configurable:!0,enumerable:!0,get:function(){return u[e]},set:function(t){u[e]=t}}}(r)):i[r]=u[r]);return f?Object.defineProperty(i,"e",{enumerable:!0,value:t}):i.e=t,i}function r(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],active:!0,accept:function(e,n){if("undefined"==typeof e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var i=0;i<e.length;i++)t._acceptedDependencies[e[i]]=n;else t._acceptedDependencies[e]=n},decline:function(e){if("undefined"==typeof e)t._selfDeclined=!0;else if("number"==typeof e)t._declinedDependencies[e]=!0;else for(var n=0;n<e.length;n++)t._declinedDependencies[e[n]]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=t._disposeHandlers.indexOf(e);n>=0&&t._disposeHandlers.splice(n,1)},check:a,apply:h,status:function(e){return e?void x.push(e):M},addStatusHandler:function(e){x.push(e)},removeStatusHandler:function(e){var t=x.indexOf(e);t>=0&&x.splice(t,1)},data:g[e]};return t}function s(e){M=e;for(var t=0;t<x.length;t++)x[t].call(null,e)}function o(e){var t=+e+""===e;return t?+e:e}function a(e,t){if("idle"!==M)throw new Error("check() is only allowed in idle status");"function"==typeof e?(w=!1,t=e):(w=e,t=t||function(e){if(e)throw e}),s("check"),n(function(e,n){if(e)return t(e);if(!n)return s("idle"),void t(null,null);R={},_={},T={};for(var i=0;i<n.c.length;i++)_[n.c[i]]=!0;b=n.h,s("prepare"),m=t,y={};var r=0;l(r),"prepare"===M&&0===P&&0===O&&d()})}function c(e,t){if(_[e]&&R[e]){R[e]=!1;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(y[n]=t[n]);0===--O&&0===P&&d()}}function l(e){_[e]?(R[e]=!0,O++,t(e)):T[e]=!0}function d(){s("ready");var e=m;if(m=null,e)if(w)h(w,e);else{var t=[];for(var n in y)Object.prototype.hasOwnProperty.call(y,n)&&t.push(o(n));e(null,t)}}function h(t,n){function i(e){for(var t=[e],n={},i=t.slice();i.length>0;){var s=i.pop(),e=j[s];if(e&&!e.hot._selfAccepted){if(e.hot._selfDeclined)return new Error("Aborted because of self decline: "+s);if(0===s)return;for(var o=0;o<e.parents.length;o++){var a=e.parents[o],c=j[a];if(c.hot._declinedDependencies[s])return new Error("Aborted because of declined dependency: "+s+" in "+a);t.indexOf(a)>=0||(c.hot._acceptedDependencies[s]?(n[a]||(n[a]=[]),r(n[a],[s])):(delete n[a],t.push(a),i.push(a)))}}}return[t,n]}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];e.indexOf(i)<0&&e.push(i)}}if("ready"!==M)throw new Error("apply() is only allowed in ready status");"function"==typeof t?(n=t,t={}):t&&"object"==typeof t?n=n||function(e){if(e)throw e}:(t={},n=n||function(e){if(e)throw e});var a={},c=[],l={};for(var d in y)if(Object.prototype.hasOwnProperty.call(y,d)){var h=o(d),p=i(h);if(!p){if(t.ignoreUnaccepted)continue;return s("abort"),n(new Error("Aborted because "+h+" is not accepted"))}if(p instanceof Error)return s("abort"),n(p);l[h]=y[h],r(c,p[0]);for(var h in p[1])Object.prototype.hasOwnProperty.call(p[1],h)&&(a[h]||(a[h]=[]),r(a[h],p[1][h]))}for(var f=[],v=0;v<c.length;v++){var h=c[v];j[h]&&j[h].hot._selfAccepted&&f.push({module:h,errorHandler:j[h].hot._selfAccepted})}s("dispose");for(var m=c.slice();m.length>0;){var h=m.pop(),w=j[h];if(w){for(var x={},O=w.hot._disposeHandlers,P=0;P<O.length;P++){var T=O[P];T(x)}g[h]=x,w.hot.active=!1,delete j[h];for(var P=0;P<w.children.length;P++){var R=j[w.children[P]];if(R){var _=R.parents.indexOf(h);_>=0&&R.parents.splice(_,1)}}}}for(var h in a)if(Object.prototype.hasOwnProperty.call(a,h))for(var w=j[h],k=a[h],P=0;P<k.length;P++){var S=k[P],_=w.children.indexOf(S);_>=0&&w.children.splice(_,1)}s("apply"),E=b;for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&(e[h]=l[h]);var z=null;for(var h in a)if(Object.prototype.hasOwnProperty.call(a,h)){for(var w=j[h],k=a[h],L=[],v=0;v<k.length;v++){var S=k[v],T=w.hot._acceptedDependencies[S];L.indexOf(T)>=0||L.push(T)}for(var v=0;v<L.length;v++){var T=L[v];try{T(a)}catch(C){z||(z=C)}}}for(var v=0;v<f.length;v++){var W=f[v],h=W.module;H=[h];try{u(h)}catch(C){if("function"==typeof W.errorHandler)try{W.errorHandler(C)}catch(C){z||(z=C)}else z||(z=C)}}return z?(s("fail"),n(z)):(s("idle"),void n(null,c))}function u(t){if(j[t])return j[t].exports;var n=j[t]={exports:{},id:t,loaded:!1,hot:r(t),parents:H,children:[]};return e[t].call(n.exports,n,n.exports,i(t)),n.loaded=!0,n.exports}var p=this.webpackHotUpdate;this.webpackHotUpdate=function(e,t){c(e,t),p&&p(e,t)};var f=!1;try{Object.defineProperty({},"x",{get:function(){}}),f=!0}catch(v){}var m,y,b,w=!0,E="6f24c3a9b46304cd2942",g={},H=[],x=[],M="idle",O=0,P=0,T={},R={},_={},j={};return u.m=e,u.c=j,u.p="/VRPuzzle/public/",u.h=function(){return E},i(0)(0)}([function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var r=n(1),s=i(r),o=new s["default"],a=function(){o.render()};a()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(2),a=i(o),c=n(4),l=i(c),d=function(){function e(){r(this,e),this.scene=new THREE.Scene,this.camera=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e4),this.camera.position.set(0,10,0),this.controls=new THREE.DeviceOrientationControls(this.camera),this.renderer=new THREE.WebGLRenderer({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.domElement.style.position="absolute",this.renderer.domElement.style.top=0,document.body.appendChild(this.renderer.domElement),this.raycaster=new THREE.Raycaster,this.mouse=new a["default"],this.onTextureLoaded=this.onTextureLoaded.bind(this),this.onResize=this.onResize.bind(this),this.render=this.render.bind(this),this.placePieces=this.placePieces.bind(this),this.meshList=[],this.logFlag=!0,this.boxSize=30,this.onTextureLoaded(),window.addEventListener("resize",this.onResize,!0),this.lastRender=0,this.display=null}return s(e,[{key:"onTextureLoaded",value:function(){var e=new THREE.BoxGeometry(this.boxSize,this.boxSize,this.boxSize),t=new THREE.MeshBasicMaterial({color:16711935,side:THREE.BackSide,wireframe:!0});this.skybox=new THREE.Mesh(e,t),this.skybox.position.y=this.boxSize/2,this.scene.add(this.skybox),this.placePieces(),this.placeSphere()}},{key:"placeSphere",value:function(){var e=new THREE.SphereGeometry(50,16,8);e.scale(-1,1,1);var t=new THREE.TextureLoader,n=this;t.load("public/images/sphere (2).jpg",function(t){var i=new THREE.MeshBasicMaterial({map:t}),r=new THREE.Mesh(e,i);r.position.set(0,0,10),n.scene.add(r)})}},{key:"placePieces",value:function(){this.columnNumber=4,this.pieceNumber=this.columnNumber*this.columnNumber,this.scaledWidth=16,this.scaledHeight=9,this.freePieceNumber=1*this.pieceNumber/2,this.freePieceList=[],this.planeWidth=this.scaledWidth/this.columnNumber,this.planeHeight=this.scaledHeight/this.columnNumber,this.selectedMesh=null,this.holdMap={},this.meshCanvasMap={};var e=new Image;e.src=n(3);var t=document.createElement("canvas"),i=t.getContext("2d"),r=t.width/1.5/e.width,s=t.height/1.5/e.height;this.scale=Math.min(r,s),this.pieceWidth=e.width/this.columnNumber,this.pieceHeight=e.height/this.columnNumber;var o=this;e.onload=function(){for(var n,r,s,a=0,c=0;a<o.columnNumber;a++)for(var l=0;l<o.columnNumber;l++,c++){t=document.createElement("canvas"),i=t.getContext("2d"),n=new THREE.Texture(t),i.drawImage(e,a*o.pieceWidth,l*o.pieceHeight,o.pieceWidth,o.pieceHeight,0,0,t.width,t.height),n&&(n.needsUpdate=!0),r=new THREE.MeshBasicMaterial({map:n,side:THREE.DoubleSide}),r.transparent=!1,s=new THREE.Mesh(new THREE.PlaneGeometry(o.planeWidth,o.planeHeight),r);var d=Math.random();if(d<o.freePieceNumber/(o.columnNumber*o.columnNumber-c)&&o.freePieceNumber>0){var h=-o.boxSize/2+o.planeWidth/2+Math.random()*(o.boxSize-o.planeWidth),u=-o.boxSize/2+o.planeHeight/2+Math.random()*(o.boxSize-o.planeHeight);s.rotation.x=Math.PI/2,s.position.set(Math.round(h),.5,Math.round(u));var p=s.clone();o.holdMap[s.id]=p,p.rotation.x=0,p.material=new THREE.MeshBasicMaterial({color:8421504,side:THREE.DoubleSide}),p.position.set(a*o.planeWidth-o.scaledWidth/2+o.planeWidth/2,5+o.scaledHeight-o.planeHeight/2-l*o.planeHeight,-9.99),o.scene.add(p),o.freePieceNumber--,o.freePieceList.push(s.id),o.meshCanvasMap[s.id]=t}else s.position.set(a*o.planeWidth-o.scaledWidth/2+o.planeWidth/2,5+o.scaledHeight-o.planeHeight/2-l*o.planeHeight,-9.99);o.meshList.push(s),o.scene.add(s)}}}},{key:"render",value:function(e){this.lastRender=e,this.raycaster.setFromCamera(this.mouse,this.camera);var t=this.raycaster.intersectObjects(this.scene.children);if(this.mouse.x=this.mouse.y=void 0,t.length>0){var n=!1,i=!0,r=!1,s=void 0;try{for(var o,a=this.meshList[Symbol.iterator]();!(i=(o=a.next()).done);i=!0){var c=o.value;this.freePieceList.indexOf(c.id)>-1&&c.id==t[0].object.id&&(null!==this.selectedMesh&&(this.clearCanvas(),this.selectedMesh.visible=!0),this.selectedMesh=c,this.mouse.pickBtn.innerHTML="贴上",n=!0,c.visible=!1,document.getElementById("pin").appendChild(this.meshCanvasMap[c.id]))}}catch(d){r=!0,s=d}finally{try{!i&&a["return"]&&a["return"]()}finally{if(r)throw s}}if(this.selectedMesh&&this.holdMap[this.selectedMesh.id].id==t[0].object.id){var h=t[0].object.position;this.selectedMesh.position.set(h.x,h.y,h.z),this.selectedMesh.rotation.set(0,0,0),this.holdMap[this.selectedMesh.id].position.z-=1,this.selectedMesh.visible=!0,this.mouse.pickBtn.innerHTML="捡起",this.freePieceList.splice(this.freePieceList.indexOf(this.selectedMesh.id),1),this.clearCanvas(),this.selectedMesh=null,0==this.freePieceList.length&&(0,l["default"])({title:"恭喜！",text:"成功拼完了一张图，可是我也不会给你流量",confirmButtonText:"好的"})}this.selectedMesh&&!n&&(this.mouse.pickBtn.innerHTML="捡起",this.selectedMesh.visible=!0,this.clearCanvas(),this.selectedMesh=null)}this.controls.update(),this.renderer.render(this.scene,this.camera),requestAnimationFrame(this.render)}},{key:"onResize",value:function(e){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)}},{key:"clearCanvas",value:function(){for(var e=document.querySelector("#pin canvas"),t=document.getElementById("pin");null!=e;)t.removeChild(e),e=document.querySelector("#pin canvas")}}]),e}();t["default"]=d},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(e){function t(e){n(this,t);var r=i(this,Object.getPrototypeOf(t).call(this,e));return r.x=void 0,r.y=void 0,r.pickBtn=document.getElementById("pick-btn"),r.pickHand=document.getElementById("pick-hand"),r.pickBtn.addEventListener("click",r.btnOnClick.bind(r),!1),r}return r(t,e),s(t,[{key:"onMouseClick",value:function(e){this.x=e.clientX/window.innerWidth*2-1,this.y=2*-(e.clientY/window.innerHeight)+1}},{key:"btnOnClick",value:function(e){this.x=.92-1,this.y=-.79+1}}]),t}(THREE.Vector2);t["default"]=o},function(e,t,n){e.exports=n.p+"images/puzzles/cartoon (5).jpg"},function(e,t){e.exports=swal}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vVlJQdXp6bGUuYnVuZGxlLmpzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCA2ZjI0YzNhOWI0NjMwNGNkMjk0MiIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2phdmFzY3JpcHRzL2dhbWUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2phdmFzY3JpcHRzL21vdXNlLmpzIiwid2VicGFjazovLy8uL3B1YmxpYy9pbWFnZXMvcHV6emxlcy9jYXJ0b29uICg1KS5qcGciLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwic3dhbFwiIl0sIm5hbWVzIjpbIm1vZHVsZXMiLCJob3REb3dubG9hZFVwZGF0ZUNodW5rIiwiY2h1bmtJZCIsImhlYWQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwic2NyaXB0IiwiY3JlYXRlRWxlbWVudCIsInR5cGUiLCJjaGFyc2V0Iiwic3JjIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsInAiLCJob3RDdXJyZW50SGFzaCIsImFwcGVuZENoaWxkIiwiaG90RG93bmxvYWRNYW5pZmVzdCIsImNhbGxiYWNrIiwiWE1MSHR0cFJlcXVlc3QiLCJFcnJvciIsInJlcXVlc3QiLCJyZXF1ZXN0UGF0aCIsIm9wZW4iLCJ0aW1lb3V0Iiwic2VuZCIsImVyciIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlYWR5U3RhdGUiLCJzdGF0dXMiLCJ1cGRhdGUiLCJKU09OIiwicGFyc2UiLCJyZXNwb25zZVRleHQiLCJlIiwiaG90Q3JlYXRlUmVxdWlyZSIsIm1vZHVsZUlkIiwiZW5zdXJlIiwiaG90U3RhdHVzIiwiaG90U2V0U3RhdHVzIiwiaG90Q2h1bmtzTG9hZGluZyIsImZpbmlzaENodW5rTG9hZGluZyIsImhvdFdhaXRpbmdGaWxlc01hcCIsImhvdEVuc3VyZVVwZGF0ZUNodW5rIiwiaG90V2FpdGluZ0ZpbGVzIiwiaG90VXBkYXRlRG93bmxvYWRlZCIsImNhbGwiLCJmbiIsIm1lIiwiaW5zdGFsbGVkTW9kdWxlcyIsImhvdCIsImFjdGl2ZSIsInBhcmVudHMiLCJpbmRleE9mIiwicHVzaCIsImNoaWxkcmVuIiwiaG90Q3VycmVudFBhcmVudHMiLCJjb25zb2xlIiwid2FybiIsIm5hbWUiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbkRlZmluZVByb3BlcnR5IiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwic2V0IiwidmFsdWUiLCJob3RDcmVhdGVNb2R1bGUiLCJfYWNjZXB0ZWREZXBlbmRlbmNpZXMiLCJfZGVjbGluZWREZXBlbmRlbmNpZXMiLCJfc2VsZkFjY2VwdGVkIiwiX3NlbGZEZWNsaW5lZCIsIl9kaXNwb3NlSGFuZGxlcnMiLCJhY2NlcHQiLCJkZXAiLCJpIiwibGVuZ3RoIiwiZGVjbGluZSIsImRpc3Bvc2UiLCJhZGREaXNwb3NlSGFuZGxlciIsInJlbW92ZURpc3Bvc2VIYW5kbGVyIiwiaWR4Iiwic3BsaWNlIiwiY2hlY2siLCJob3RDaGVjayIsImFwcGx5IiwiaG90QXBwbHkiLCJsIiwiaG90U3RhdHVzSGFuZGxlcnMiLCJhZGRTdGF0dXNIYW5kbGVyIiwicmVtb3ZlU3RhdHVzSGFuZGxlciIsImRhdGEiLCJob3RDdXJyZW50TW9kdWxlRGF0YSIsIm5ld1N0YXR1cyIsInRvTW9kdWxlSWQiLCJpZCIsImlzTnVtYmVyIiwiaG90QXBwbHlPblVwZGF0ZSIsImhvdFJlcXVlc3RlZEZpbGVzTWFwIiwiaG90QXZhaWxpYmxlRmlsZXNNYXAiLCJjIiwiaG90VXBkYXRlTmV3SGFzaCIsImgiLCJob3RDYWxsYmFjayIsImhvdFVwZGF0ZSIsImhvdEFkZFVwZGF0ZUNodW5rIiwibW9yZU1vZHVsZXMiLCJvdXRkYXRlZE1vZHVsZXMiLCJvcHRpb25zIiwiZ2V0QWZmZWN0ZWRTdHVmZiIsIm1vZHVsZSIsIm91dGRhdGVkRGVwZW5kZW5jaWVzIiwicXVldWUiLCJzbGljZSIsInBvcCIsInBhcmVudElkIiwicGFyZW50IiwiYWRkQWxsVG9TZXQiLCJhIiwiYiIsIml0ZW0iLCJhcHBsaWVkVXBkYXRlIiwicmVzdWx0IiwiaWdub3JlVW5hY2NlcHRlZCIsIm91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcyIsImVycm9ySGFuZGxlciIsImRpc3Bvc2VIYW5kbGVycyIsImoiLCJjYiIsImNoaWxkIiwibW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMiLCJkZXBlbmRlbmN5IiwiZXJyb3IiLCJjYWxsYmFja3MiLCJleHBvcnRzIiwibG9hZGVkIiwicGFyZW50SG90VXBkYXRlQ2FsbGJhY2siLCJ0aGlzIiwieCIsIm0iLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZ2FtZSIsIl9nYW1lMiIsImdhbWUiLCJsb29wIiwicmVuZGVyIiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsIl9jcmVhdGVDbGFzcyIsImRlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImRlc2NyaXB0b3IiLCJ3cml0YWJsZSIsImtleSIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIl9tb3VzZSIsIl9tb3VzZTIiLCJfc3dlZXRhbGVydCIsIl9zd2VldGFsZXJ0MiIsIkdhbWUiLCJzY2VuZSIsIlRIUkVFIiwiU2NlbmUiLCJjYW1lcmEiLCJQZXJzcGVjdGl2ZUNhbWVyYSIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsInBvc2l0aW9uIiwiY29udHJvbHMiLCJEZXZpY2VPcmllbnRhdGlvbkNvbnRyb2xzIiwicmVuZGVyZXIiLCJXZWJHTFJlbmRlcmVyIiwiYW50aWFsaWFzIiwic2V0UGl4ZWxSYXRpbyIsImRldmljZVBpeGVsUmF0aW8iLCJzZXRTaXplIiwiZG9tRWxlbWVudCIsInN0eWxlIiwidG9wIiwiYm9keSIsInJheWNhc3RlciIsIlJheWNhc3RlciIsIm1vdXNlIiwib25UZXh0dXJlTG9hZGVkIiwiYmluZCIsIm9uUmVzaXplIiwicGxhY2VQaWVjZXMiLCJtZXNoTGlzdCIsImxvZ0ZsYWciLCJib3hTaXplIiwiYWRkRXZlbnRMaXN0ZW5lciIsImxhc3RSZW5kZXIiLCJkaXNwbGF5IiwiZ2VvbWV0cnkiLCJCb3hHZW9tZXRyeSIsIm1hdGVyaWFsIiwiTWVzaEJhc2ljTWF0ZXJpYWwiLCJjb2xvciIsInNpZGUiLCJCYWNrU2lkZSIsIndpcmVmcmFtZSIsInNreWJveCIsIk1lc2giLCJ5IiwiYWRkIiwicGxhY2VTcGhlcmUiLCJTcGhlcmVHZW9tZXRyeSIsInNjYWxlIiwibG9hZGVyIiwiVGV4dHVyZUxvYWRlciIsInNlbGYiLCJsb2FkIiwidGV4dHVyZSIsIm1hcCIsIm1lc2giLCJjb2x1bW5OdW1iZXIiLCJwaWVjZU51bWJlciIsInNjYWxlZFdpZHRoIiwic2NhbGVkSGVpZ2h0IiwiZnJlZVBpZWNlTnVtYmVyIiwiZnJlZVBpZWNlTGlzdCIsInBsYW5lV2lkdGgiLCJwbGFuZUhlaWdodCIsInNlbGVjdGVkTWVzaCIsImhvbGRNYXAiLCJtZXNoQ2FudmFzTWFwIiwiaW1hZ2VPYmoiLCJJbWFnZSIsImNhbnZhcyIsImNvbnRleHQiLCJnZXRDb250ZXh0Iiwid3MiLCJ3aWR0aCIsImhzIiwiaGVpZ2h0IiwiTWF0aCIsIm1pbiIsInBpZWNlV2lkdGgiLCJwaWVjZUhlaWdodCIsIm9ubG9hZCIsImluZGV4IiwiVGV4dHVyZSIsImRyYXdJbWFnZSIsIm5lZWRzVXBkYXRlIiwiRG91YmxlU2lkZSIsInRyYW5zcGFyZW50IiwiUGxhbmVHZW9tZXRyeSIsInJhbmRvbSIsInoiLCJyb3RhdGlvbiIsIlBJIiwicm91bmQiLCJibGFua01lc2giLCJjbG9uZSIsInRpbWVzdGFtcCIsInNldEZyb21DYW1lcmEiLCJpbnRlcnNlY3RzIiwiaW50ZXJzZWN0T2JqZWN0cyIsInVuZGVmaW5lZCIsImNsaWNrRmxhZyIsIl9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24iLCJfZGlkSXRlcmF0b3JFcnJvciIsIl9pdGVyYXRvckVycm9yIiwiX3N0ZXAiLCJfaXRlcmF0b3IiLCJTeW1ib2wiLCJpdGVyYXRvciIsIm5leHQiLCJkb25lIiwib2JqZWN0IiwiY2xlYXJDYW52YXMiLCJ2aXNpYmxlIiwicGlja0J0biIsImlubmVySFRNTCIsImdldEVsZW1lbnRCeUlkIiwidCIsInRpdGxlIiwidGV4dCIsImNvbmZpcm1CdXR0b25UZXh0IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiYXNwZWN0IiwidXBkYXRlUHJvamVjdGlvbk1hdHJpeCIsInF1ZXJ5U2VsZWN0b3IiLCJwaW4iLCJyZW1vdmVDaGlsZCIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwiUmVmZXJlbmNlRXJyb3IiLCJfaW5oZXJpdHMiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiTW91c2UiLCJfVEhSRUUkVmVjdG9yIiwiX3RoaXMiLCJnZXRQcm90b3R5cGVPZiIsInBpY2tIYW5kIiwiYnRuT25DbGljayIsImV2ZW50IiwiY2xpZW50WCIsImNsaWVudFkiLCJWZWN0b3IyIiwic3dhbCJdLCJtYXBwaW5ncyI6IkNBQVMsU0FBVUEsR0NPbkIsUUFBQUMsR0FBQUMsR0FDQSxHQUFBQyxHQUFBQyxTQUFBQyxxQkFBQSxXQUNBQyxFQUFBRixTQUFBRyxjQUFBLFNBQ0FELEdBQUFFLEtBQUEsa0JBQ0FGLEVBQUFHLFFBQUEsUUFDQUgsRUFBQUksSUFBQUMsRUFBQUMsRUFBQSxHQUFBVixFQUFBLElBQUFXLEVBQUEsaUJBQ0FWLEVBQUFXLFlBQUFSLEdBR0EsUUFBQVMsR0FBQUMsR0FDQSxzQkFBQUMsZ0JBQ0EsTUFBQUQsR0FBQSxHQUFBRSxPQUFBLHNCQUNBLEtBQ0EsR0FBQUMsR0FBQSxHQUFBRixnQkFDQUcsRUFBQVQsRUFBQUMsRUFBQSxHQUFBQyxFQUFBLGtCQUNBTSxHQUFBRSxLQUFBLE1BQUFELEdBQUEsR0FDQUQsRUFBQUcsUUFB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N0YsRUFBSXVELE9BRVRzQyxFQUFLeEIsUUFBVXJSLFNBQVN1UixlQUFlLFlBQ3ZDc0IsRUFBS0UsU0FBVy9TLFNBQVN1UixlQUFlLGFBQ3hDc0IsRUFBS3hCLFFBQVFsRixpQkFBaUIsUUFBUTBHLEVBQUtHLFdBQVduSCxLQUFoQmdILElBQTJCLEdBUG5EQSxFSm83QmpCLE1BcENBVCxHQUFVTyxFQUFPQyxHQWlCakJ0SixFQUFhcUosSUFDVC9JLElBQUssZUFDTDdGLE1BQU8sU0l6NUJFa1AsR0FJVjNLLEtBQUtDLEVBQU0wSyxFQUFNQyxRQUFVekksT0FBT0MsV0FBZSxFQUFJLEVBQ3JEcEMsS0FBSzBFLEVBQStDLElBQXZDaUcsRUFBTUUsUUFBVTFJLE9BQU9FLGFBQW9CLEtKNjVCdkRmLElBQUssYUFDTDdGLE1BQU8sU0kzNUJBa1AsR0FDUjNLLEtBQUtDLEVBQU0sSUFBYSxFQUN4QkQsS0FBSzBFLE9BQXNCLE1KZzZCdkIyRixHSXI3QnVCdEksTUFBTStJLFFKdzdCeENqTCxjSXg3Qm9Cd0ssR0o0N0JmLFNBQVNoTSxFQUFRd0IsRUFBUzVILEdLNTdCaENvRyxFQUFBd0IsUUFBQTVILEVBQUFDLEVBQUEsa0NMazhCTSxTQUFTbUcsRUFBUXdCLEdNbDhCdkJ4QixFQUFBd0IsUUFBQWtMIiwiZmlsZSI6IlZSUHV6emxlLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0dmFyIHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrID0gdGhpc1tcIndlYnBhY2tIb3RVcGRhdGVcIl07XG4vKioqKioqLyBcdHRoaXNbXCJ3ZWJwYWNrSG90VXBkYXRlXCJdID0gXHJcbi8qKioqKiovIFx0ZnVuY3Rpb24gd2VicGFja0hvdFVwZGF0ZUNhbGxiYWNrKGNodW5rSWQsIG1vcmVNb2R1bGVzKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuLyoqKioqKi8gXHRcdGhvdEFkZFVwZGF0ZUNodW5rKGNodW5rSWQsIG1vcmVNb2R1bGVzKTtcclxuLyoqKioqKi8gXHRcdGlmKHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrKSBwYXJlbnRIb3RVcGRhdGVDYWxsYmFjayhjaHVua0lkLCBtb3JlTW9kdWxlcyk7XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIGhvdERvd25sb2FkVXBkYXRlQ2h1bmsoY2h1bmtJZCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbi8qKioqKiovIFx0XHR2YXIgaGVhZCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXTtcclxuLyoqKioqKi8gXHRcdHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO1xyXG4vKioqKioqLyBcdFx0c2NyaXB0LnR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiO1xyXG4vKioqKioqLyBcdFx0c2NyaXB0LmNoYXJzZXQgPSBcInV0Zi04XCI7XHJcbi8qKioqKiovIFx0XHRzY3JpcHQuc3JjID0gX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJcIiArIGNodW5rSWQgKyBcIi5cIiArIGhvdEN1cnJlbnRIYXNoICsgXCIuaG90LXVwZGF0ZS5qc1wiO1xyXG4vKioqKioqLyBcdFx0aGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpO1xyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRmdW5jdGlvbiBob3REb3dubG9hZE1hbmlmZXN0KGNhbGxiYWNrKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuLyoqKioqKi8gXHRcdGlmKHR5cGVvZiBYTUxIdHRwUmVxdWVzdCA9PT0gXCJ1bmRlZmluZWRcIilcclxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGNhbGxiYWNrKG5ldyBFcnJvcihcIk5vIGJyb3dzZXIgc3VwcG9ydFwiKSk7XHJcbi8qKioqKiovIFx0XHR0cnkge1xyXG4vKioqKioqLyBcdFx0XHR2YXIgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4vKioqKioqLyBcdFx0XHR2YXIgcmVxdWVzdFBhdGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcIlwiICsgaG90Q3VycmVudEhhc2ggKyBcIi5ob3QtdXBkYXRlLmpzb25cIjtcclxuLyoqKioqKi8gXHRcdFx0cmVxdWVzdC5vcGVuKFwiR0VUXCIsIHJlcXVlc3RQYXRoLCB0cnVlKTtcclxuLyoqKioqKi8gXHRcdFx0cmVxdWVzdC50aW1lb3V0ID0gMTAwMDA7XHJcbi8qKioqKiovIFx0XHRcdHJlcXVlc3Quc2VuZChudWxsKTtcclxuLyoqKioqKi8gXHRcdH0gY2F0Y2goZXJyKSB7XHJcbi8qKioqKiovIFx0XHRcdHJldHVybiBjYWxsYmFjayhlcnIpO1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFx0cmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcclxuLyoqKioqKi8gXHRcdFx0aWYocmVxdWVzdC5yZWFkeVN0YXRlICE9PSA0KSByZXR1cm47XHJcbi8qKioqKiovIFx0XHRcdGlmKHJlcXVlc3Quc3RhdHVzID09PSAwKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0Ly8gdGltZW91dFxyXG4vKioqKioqLyBcdFx0XHRcdGNhbGxiYWNrKG5ldyBFcnJvcihcIk1hbmlmZXN0IHJlcXVlc3QgdG8gXCIgKyByZXF1ZXN0UGF0aCArIFwiIHRpbWVkIG91dC5cIikpO1xyXG4vKioqKioqLyBcdFx0XHR9IGVsc2UgaWYocmVxdWVzdC5zdGF0dXMgPT09IDQwNCkge1xyXG4vKioqKioqLyBcdFx0XHRcdC8vIG5vIHVwZGF0ZSBhdmFpbGFibGVcclxuLyoqKioqKi8gXHRcdFx0XHRjYWxsYmFjaygpO1xyXG4vKioqKioqLyBcdFx0XHR9IGVsc2UgaWYocmVxdWVzdC5zdGF0dXMgIT09IDIwMCAmJiByZXF1ZXN0LnN0YXR1cyAhPT0gMzA0KSB7XHJcbi8qKioqKiovIFx0XHRcdFx0Ly8gb3RoZXIgZmFpbHVyZVxyXG4vKioqKioqLyBcdFx0XHRcdGNhbGxiYWNrKG5ldyBFcnJvcihcIk1hbmlmZXN0IHJlcXVlc3QgdG8gXCIgKyByZXF1ZXN0UGF0aCArIFwiIGZhaWxlZC5cIikpO1xyXG4vKioqKioqLyBcdFx0XHR9IGVsc2Uge1xyXG4vKioqKioqLyBcdFx0XHRcdC8vIHN1Y2Nlc3NcclxuLyoqKioqKi8gXHRcdFx0XHR0cnkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0dmFyIHVwZGF0ZSA9IEpTT04ucGFyc2UocmVxdWVzdC5yZXNwb25zZVRleHQpO1xyXG4vKioqKioqLyBcdFx0XHRcdH0gY2F0Y2goZSkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0Y2FsbGJhY2soZSk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRyZXR1cm47XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdGNhbGxiYWNrKG51bGwsIHVwZGF0ZSk7XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdH07XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqL1xuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHQvLyBDb3BpZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvYmxvYi9iZWY0NWIwL3NyYy9zaGFyZWQvdXRpbHMvY2FuRGVmaW5lUHJvcGVydHkuanNcclxuLyoqKioqKi8gXHR2YXIgY2FuRGVmaW5lUHJvcGVydHkgPSBmYWxzZTtcclxuLyoqKioqKi8gXHR0cnkge1xyXG4vKioqKioqLyBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCBcInhcIiwge1xyXG4vKioqKioqLyBcdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge31cclxuLyoqKioqKi8gXHRcdH0pO1xyXG4vKioqKioqLyBcdFx0Y2FuRGVmaW5lUHJvcGVydHkgPSB0cnVlO1xyXG4vKioqKioqLyBcdH0gY2F0Y2goeCkge1xyXG4vKioqKioqLyBcdFx0Ly8gSUUgd2lsbCBmYWlsIG9uIGRlZmluZVByb3BlcnR5XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdHZhciBob3RBcHBseU9uVXBkYXRlID0gdHJ1ZTtcclxuLyoqKioqKi8gXHR2YXIgaG90Q3VycmVudEhhc2ggPSBcIjZmMjRjM2E5YjQ2MzA0Y2QyOTQyXCI7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuLyoqKioqKi8gXHR2YXIgaG90Q3VycmVudE1vZHVsZURhdGEgPSB7fTtcclxuLyoqKioqKi8gXHR2YXIgaG90Q3VycmVudFBhcmVudHMgPSBbXTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIGhvdENyZWF0ZVJlcXVpcmUobW9kdWxlSWQpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4vKioqKioqLyBcdFx0dmFyIG1lID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRpZighbWUpIHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fO1xyXG4vKioqKioqLyBcdFx0dmFyIGZuID0gZnVuY3Rpb24ocmVxdWVzdCkge1xyXG4vKioqKioqLyBcdFx0XHRpZihtZS5ob3QuYWN0aXZlKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XSkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XS5wYXJlbnRzLmluZGV4T2YobW9kdWxlSWQpIDwgMClcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XS5wYXJlbnRzLnB1c2gobW9kdWxlSWQpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYobWUuY2hpbGRyZW4uaW5kZXhPZihyZXF1ZXN0KSA8IDApXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdG1lLmNoaWxkcmVuLnB1c2gocmVxdWVzdCk7XHJcbi8qKioqKiovIFx0XHRcdFx0fSBlbHNlIGhvdEN1cnJlbnRQYXJlbnRzID0gW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0fSBlbHNlIHtcclxuLyoqKioqKi8gXHRcdFx0XHRjb25zb2xlLndhcm4oXCJbSE1SXSB1bmV4cGVjdGVkIHJlcXVpcmUoXCIgKyByZXF1ZXN0ICsgXCIpIGZyb20gZGlzcG9zZWQgbW9kdWxlIFwiICsgbW9kdWxlSWQpO1xyXG4vKioqKioqLyBcdFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW107XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18ocmVxdWVzdCk7XHJcbi8qKioqKiovIFx0XHR9O1xyXG4vKioqKioqLyBcdFx0Zm9yKHZhciBuYW1lIGluIF9fd2VicGFja19yZXF1aXJlX18pIHtcclxuLyoqKioqKi8gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKF9fd2VicGFja19yZXF1aXJlX18sIG5hbWUpKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoY2FuRGVmaW5lUHJvcGVydHkpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgbmFtZSwgKGZ1bmN0aW9uKG5hbWUpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0cmV0dXJuIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX19bbmFtZV07XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0fSxcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fW25hbWVdID0gdmFsdWU7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHR9O1xyXG4vKioqKioqLyBcdFx0XHRcdFx0fShuYW1lKSkpO1xyXG4vKioqKioqLyBcdFx0XHRcdH0gZWxzZSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRmbltuYW1lXSA9IF9fd2VicGFja19yZXF1aXJlX19bbmFtZV07XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRmdW5jdGlvbiBlbnN1cmUoY2h1bmtJZCwgY2FsbGJhY2spIHtcclxuLyoqKioqKi8gXHRcdFx0aWYoaG90U3RhdHVzID09PSBcInJlYWR5XCIpXHJcbi8qKioqKiovIFx0XHRcdFx0aG90U2V0U3RhdHVzKFwicHJlcGFyZVwiKTtcclxuLyoqKioqKi8gXHRcdFx0aG90Q2h1bmtzTG9hZGluZysrO1xyXG4vKioqKioqLyBcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmUoY2h1bmtJZCwgZnVuY3Rpb24oKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0dHJ5IHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGNhbGxiYWNrLmNhbGwobnVsbCwgZm4pO1xyXG4vKioqKioqLyBcdFx0XHRcdH0gZmluYWxseSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRmaW5pc2hDaHVua0xvYWRpbmcoKTtcclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRcdFx0ZnVuY3Rpb24gZmluaXNoQ2h1bmtMb2FkaW5nKCkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aG90Q2h1bmtzTG9hZGluZy0tO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYoaG90U3RhdHVzID09PSBcInByZXBhcmVcIikge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpZighaG90V2FpdGluZ0ZpbGVzTWFwW2NodW5rSWRdKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0aG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYoaG90Q2h1bmtzTG9hZGluZyA9PT0gMCAmJiBob3RXYWl0aW5nRmlsZXMgPT09IDApIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRob3RVcGRhdGVEb3dubG9hZGVkKCk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdH0pO1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFx0aWYoY2FuRGVmaW5lUHJvcGVydHkpIHtcclxuLyoqKioqKi8gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGZuLCBcImVcIiwge1xyXG4vKioqKioqLyBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXHJcbi8qKioqKiovIFx0XHRcdFx0dmFsdWU6IGVuc3VyZVxyXG4vKioqKioqLyBcdFx0XHR9KTtcclxuLyoqKioqKi8gXHRcdH0gZWxzZSB7XHJcbi8qKioqKiovIFx0XHRcdGZuLmUgPSBlbnN1cmU7XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHRyZXR1cm4gZm47XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIGhvdENyZWF0ZU1vZHVsZShtb2R1bGVJZCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbi8qKioqKiovIFx0XHR2YXIgaG90ID0ge1xyXG4vKioqKioqLyBcdFx0XHQvLyBwcml2YXRlIHN0dWZmXHJcbi8qKioqKiovIFx0XHRcdF9hY2NlcHRlZERlcGVuZGVuY2llczoge30sXHJcbi8qKioqKiovIFx0XHRcdF9kZWNsaW5lZERlcGVuZGVuY2llczoge30sXHJcbi8qKioqKiovIFx0XHRcdF9zZWxmQWNjZXB0ZWQ6IGZhbHNlLFxyXG4vKioqKioqLyBcdFx0XHRfc2VsZkRlY2xpbmVkOiBmYWxzZSxcclxuLyoqKioqKi8gXHRcdFx0X2Rpc3Bvc2VIYW5kbGVyczogW10sXHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRcdC8vIE1vZHVsZSBBUElcclxuLyoqKioqKi8gXHRcdFx0YWN0aXZlOiB0cnVlLFxyXG4vKioqKioqLyBcdFx0XHRhY2NlcHQ6IGZ1bmN0aW9uKGRlcCwgY2FsbGJhY2spIHtcclxuLyoqKioqKi8gXHRcdFx0XHRpZih0eXBlb2YgZGVwID09PSBcInVuZGVmaW5lZFwiKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0aG90Ll9zZWxmQWNjZXB0ZWQgPSB0cnVlO1xyXG4vKioqKioqLyBcdFx0XHRcdGVsc2UgaWYodHlwZW9mIGRlcCA9PT0gXCJmdW5jdGlvblwiKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0aG90Ll9zZWxmQWNjZXB0ZWQgPSBkZXA7XHJcbi8qKioqKiovIFx0XHRcdFx0ZWxzZSBpZih0eXBlb2YgZGVwID09PSBcIm9iamVjdFwiKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGRlcC5sZW5ndGg7IGkrKylcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBbaV1dID0gY2FsbGJhY2s7XHJcbi8qKioqKiovIFx0XHRcdFx0ZWxzZVxyXG4vKioqKioqLyBcdFx0XHRcdFx0aG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBdID0gY2FsbGJhY2s7XHJcbi8qKioqKiovIFx0XHRcdH0sXHJcbi8qKioqKiovIFx0XHRcdGRlY2xpbmU6IGZ1bmN0aW9uKGRlcCkge1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKHR5cGVvZiBkZXAgPT09IFwidW5kZWZpbmVkXCIpXHJcbi8qKioqKiovIFx0XHRcdFx0XHRob3QuX3NlbGZEZWNsaW5lZCA9IHRydWU7XHJcbi8qKioqKiovIFx0XHRcdFx0ZWxzZSBpZih0eXBlb2YgZGVwID09PSBcIm51bWJlclwiKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0aG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1tkZXBdID0gdHJ1ZTtcclxuLyoqKioqKi8gXHRcdFx0XHRlbHNlXHJcbi8qKioqKiovIFx0XHRcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgZGVwLmxlbmd0aDsgaSsrKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW2RlcFtpXV0gPSB0cnVlO1xyXG4vKioqKioqLyBcdFx0XHR9LFxyXG4vKioqKioqLyBcdFx0XHRkaXNwb3NlOiBmdW5jdGlvbihjYWxsYmFjaykge1xyXG4vKioqKioqLyBcdFx0XHRcdGhvdC5fZGlzcG9zZUhhbmRsZXJzLnB1c2goY2FsbGJhY2spO1xyXG4vKioqKioqLyBcdFx0XHR9LFxyXG4vKioqKioqLyBcdFx0XHRhZGREaXNwb3NlSGFuZGxlcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuLyoqKioqKi8gXHRcdFx0XHRob3QuX2Rpc3Bvc2VIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTtcclxuLyoqKioqKi8gXHRcdFx0fSxcclxuLyoqKioqKi8gXHRcdFx0cmVtb3ZlRGlzcG9zZUhhbmRsZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIGlkeCA9IGhvdC5fZGlzcG9zZUhhbmRsZXJzLmluZGV4T2YoY2FsbGJhY2spO1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKGlkeCA+PSAwKSBob3QuX2Rpc3Bvc2VIYW5kbGVycy5zcGxpY2UoaWR4LCAxKTtcclxuLyoqKioqKi8gXHRcdFx0fSxcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0Ly8gTWFuYWdlbWVudCBBUElcclxuLyoqKioqKi8gXHRcdFx0Y2hlY2s6IGhvdENoZWNrLFxyXG4vKioqKioqLyBcdFx0XHRhcHBseTogaG90QXBwbHksXHJcbi8qKioqKiovIFx0XHRcdHN0YXR1czogZnVuY3Rpb24obCkge1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKCFsKSByZXR1cm4gaG90U3RhdHVzO1xyXG4vKioqKioqLyBcdFx0XHRcdGhvdFN0YXR1c0hhbmRsZXJzLnB1c2gobCk7XHJcbi8qKioqKiovIFx0XHRcdH0sXHJcbi8qKioqKiovIFx0XHRcdGFkZFN0YXR1c0hhbmRsZXI6IGZ1bmN0aW9uKGwpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRob3RTdGF0dXNIYW5kbGVycy5wdXNoKGwpO1xyXG4vKioqKioqLyBcdFx0XHR9LFxyXG4vKioqKioqLyBcdFx0XHRyZW1vdmVTdGF0dXNIYW5kbGVyOiBmdW5jdGlvbihsKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIGlkeCA9IGhvdFN0YXR1c0hhbmRsZXJzLmluZGV4T2YobCk7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoaWR4ID49IDApIGhvdFN0YXR1c0hhbmRsZXJzLnNwbGljZShpZHgsIDEpO1xyXG4vKioqKioqLyBcdFx0XHR9LFxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHQvL2luaGVyaXQgZnJvbSBwcmV2aW91cyBkaXNwb3NlIGNhbGxcclxuLyoqKioqKi8gXHRcdFx0ZGF0YTogaG90Q3VycmVudE1vZHVsZURhdGFbbW9kdWxlSWRdXHJcbi8qKioqKiovIFx0XHR9O1xyXG4vKioqKioqLyBcdFx0cmV0dXJuIGhvdDtcclxuLyoqKioqKi8gXHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0dmFyIGhvdFN0YXR1c0hhbmRsZXJzID0gW107XHJcbi8qKioqKiovIFx0dmFyIGhvdFN0YXR1cyA9IFwiaWRsZVwiO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIGhvdFNldFN0YXR1cyhuZXdTdGF0dXMpIHtcclxuLyoqKioqKi8gXHRcdGhvdFN0YXR1cyA9IG5ld1N0YXR1cztcclxuLyoqKioqKi8gXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBob3RTdGF0dXNIYW5kbGVycy5sZW5ndGg7IGkrKylcclxuLyoqKioqKi8gXHRcdFx0aG90U3RhdHVzSGFuZGxlcnNbaV0uY2FsbChudWxsLCBuZXdTdGF0dXMpO1xyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHQvLyB3aGlsZSBkb3dubG9hZGluZ1xyXG4vKioqKioqLyBcdHZhciBob3RXYWl0aW5nRmlsZXMgPSAwO1xyXG4vKioqKioqLyBcdHZhciBob3RDaHVua3NMb2FkaW5nID0gMDtcclxuLyoqKioqKi8gXHR2YXIgaG90V2FpdGluZ0ZpbGVzTWFwID0ge307XHJcbi8qKioqKiovIFx0dmFyIGhvdFJlcXVlc3RlZEZpbGVzTWFwID0ge307XHJcbi8qKioqKiovIFx0dmFyIGhvdEF2YWlsaWJsZUZpbGVzTWFwID0ge307XHJcbi8qKioqKiovIFx0dmFyIGhvdENhbGxiYWNrO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdC8vIFRoZSB1cGRhdGUgaW5mb1xyXG4vKioqKioqLyBcdHZhciBob3RVcGRhdGUsIGhvdFVwZGF0ZU5ld0hhc2g7XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0ZnVuY3Rpb24gdG9Nb2R1bGVJZChpZCkge1xyXG4vKioqKioqLyBcdFx0dmFyIGlzTnVtYmVyID0gKCtpZCkgKyBcIlwiID09PSBpZDtcclxuLyoqKioqKi8gXHRcdHJldHVybiBpc051bWJlciA/ICtpZCA6IGlkO1xyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRmdW5jdGlvbiBob3RDaGVjayhhcHBseSwgY2FsbGJhY2spIHtcclxuLyoqKioqKi8gXHRcdGlmKGhvdFN0YXR1cyAhPT0gXCJpZGxlXCIpIHRocm93IG5ldyBFcnJvcihcImNoZWNrKCkgaXMgb25seSBhbGxvd2VkIGluIGlkbGUgc3RhdHVzXCIpO1xyXG4vKioqKioqLyBcdFx0aWYodHlwZW9mIGFwcGx5ID09PSBcImZ1bmN0aW9uXCIpIHtcclxuLyoqKioqKi8gXHRcdFx0aG90QXBwbHlPblVwZGF0ZSA9IGZhbHNlO1xyXG4vKioqKioqLyBcdFx0XHRjYWxsYmFjayA9IGFwcGx5O1xyXG4vKioqKioqLyBcdFx0fSBlbHNlIHtcclxuLyoqKioqKi8gXHRcdFx0aG90QXBwbHlPblVwZGF0ZSA9IGFwcGx5O1xyXG4vKioqKioqLyBcdFx0XHRjYWxsYmFjayA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uKGVycikge1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKGVycikgdGhyb3cgZXJyO1xyXG4vKioqKioqLyBcdFx0XHR9O1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFx0aG90U2V0U3RhdHVzKFwiY2hlY2tcIik7XHJcbi8qKioqKiovIFx0XHRob3REb3dubG9hZE1hbmlmZXN0KGZ1bmN0aW9uKGVyciwgdXBkYXRlKSB7XHJcbi8qKioqKiovIFx0XHRcdGlmKGVycikgcmV0dXJuIGNhbGxiYWNrKGVycik7XHJcbi8qKioqKiovIFx0XHRcdGlmKCF1cGRhdGUpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRob3RTZXRTdGF0dXMoXCJpZGxlXCIpO1xyXG4vKioqKioqLyBcdFx0XHRcdGNhbGxiYWNrKG51bGwsIG51bGwpO1xyXG4vKioqKioqLyBcdFx0XHRcdHJldHVybjtcclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHRob3RSZXF1ZXN0ZWRGaWxlc01hcCA9IHt9O1xyXG4vKioqKioqLyBcdFx0XHRob3RBdmFpbGlibGVGaWxlc01hcCA9IHt9O1xyXG4vKioqKioqLyBcdFx0XHRob3RXYWl0aW5nRmlsZXNNYXAgPSB7fTtcclxuLyoqKioqKi8gXHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IHVwZGF0ZS5jLmxlbmd0aDsgaSsrKVxyXG4vKioqKioqLyBcdFx0XHRcdGhvdEF2YWlsaWJsZUZpbGVzTWFwW3VwZGF0ZS5jW2ldXSA9IHRydWU7XHJcbi8qKioqKiovIFx0XHRcdGhvdFVwZGF0ZU5ld0hhc2ggPSB1cGRhdGUuaDtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0aG90U2V0U3RhdHVzKFwicHJlcGFyZVwiKTtcclxuLyoqKioqKi8gXHRcdFx0aG90Q2FsbGJhY2sgPSBjYWxsYmFjaztcclxuLyoqKioqKi8gXHRcdFx0aG90VXBkYXRlID0ge307XHJcbi8qKioqKiovIFx0XHRcdHZhciBjaHVua0lkID0gMDtcclxuLyoqKioqKi8gXHRcdFx0eyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWxvbmUtYmxvY2tzXHJcbi8qKioqKiovIFx0XHRcdFx0LypnbG9iYWxzIGNodW5rSWQgKi9cclxuLyoqKioqKi8gXHRcdFx0XHRob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKTtcclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRpZihob3RTdGF0dXMgPT09IFwicHJlcGFyZVwiICYmIGhvdENodW5rc0xvYWRpbmcgPT09IDAgJiYgaG90V2FpdGluZ0ZpbGVzID09PSAwKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9KTtcclxuLyoqKioqKi8gXHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0ZnVuY3Rpb24gaG90QWRkVXBkYXRlQ2h1bmsoY2h1bmtJZCwgbW9yZU1vZHVsZXMpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4vKioqKioqLyBcdFx0aWYoIWhvdEF2YWlsaWJsZUZpbGVzTWFwW2NodW5rSWRdIHx8ICFob3RSZXF1ZXN0ZWRGaWxlc01hcFtjaHVua0lkXSlcclxuLyoqKioqKi8gXHRcdFx0cmV0dXJuO1xyXG4vKioqKioqLyBcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0gPSBmYWxzZTtcclxuLyoqKioqKi8gXHRcdGZvcih2YXIgbW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcclxuLyoqKioqKi8gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRob3RVcGRhdGVbbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHRpZigtLWhvdFdhaXRpbmdGaWxlcyA9PT0gMCAmJiBob3RDaHVua3NMb2FkaW5nID09PSAwKSB7XHJcbi8qKioqKiovIFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0ZnVuY3Rpb24gaG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCkge1xyXG4vKioqKioqLyBcdFx0aWYoIWhvdEF2YWlsaWJsZUZpbGVzTWFwW2NodW5rSWRdKSB7XHJcbi8qKioqKiovIFx0XHRcdGhvdFdhaXRpbmdGaWxlc01hcFtjaHVua0lkXSA9IHRydWU7XHJcbi8qKioqKiovIFx0XHR9IGVsc2Uge1xyXG4vKioqKioqLyBcdFx0XHRob3RSZXF1ZXN0ZWRGaWxlc01hcFtjaHVua0lkXSA9IHRydWU7XHJcbi8qKioqKiovIFx0XHRcdGhvdFdhaXRpbmdGaWxlcysrO1xyXG4vKioqKioqLyBcdFx0XHRob3REb3dubG9hZFVwZGF0ZUNodW5rKGNodW5rSWQpO1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRmdW5jdGlvbiBob3RVcGRhdGVEb3dubG9hZGVkKCkge1xyXG4vKioqKioqLyBcdFx0aG90U2V0U3RhdHVzKFwicmVhZHlcIik7XHJcbi8qKioqKiovIFx0XHR2YXIgY2FsbGJhY2sgPSBob3RDYWxsYmFjaztcclxuLyoqKioqKi8gXHRcdGhvdENhbGxiYWNrID0gbnVsbDtcclxuLyoqKioqKi8gXHRcdGlmKCFjYWxsYmFjaykgcmV0dXJuO1xyXG4vKioqKioqLyBcdFx0aWYoaG90QXBwbHlPblVwZGF0ZSkge1xyXG4vKioqKioqLyBcdFx0XHRob3RBcHBseShob3RBcHBseU9uVXBkYXRlLCBjYWxsYmFjayk7XHJcbi8qKioqKiovIFx0XHR9IGVsc2Uge1xyXG4vKioqKioqLyBcdFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW107XHJcbi8qKioqKiovIFx0XHRcdGZvcih2YXIgaWQgaW4gaG90VXBkYXRlKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGhvdFVwZGF0ZSwgaWQpKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRvdXRkYXRlZE1vZHVsZXMucHVzaCh0b01vZHVsZUlkKGlkKSk7XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdGNhbGxiYWNrKG51bGwsIG91dGRhdGVkTW9kdWxlcyk7XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIGhvdEFwcGx5KG9wdGlvbnMsIGNhbGxiYWNrKSB7XHJcbi8qKioqKiovIFx0XHRpZihob3RTdGF0dXMgIT09IFwicmVhZHlcIikgdGhyb3cgbmV3IEVycm9yKFwiYXBwbHkoKSBpcyBvbmx5IGFsbG93ZWQgaW4gcmVhZHkgc3RhdHVzXCIpO1xyXG4vKioqKioqLyBcdFx0aWYodHlwZW9mIG9wdGlvbnMgPT09IFwiZnVuY3Rpb25cIikge1xyXG4vKioqKioqLyBcdFx0XHRjYWxsYmFjayA9IG9wdGlvbnM7XHJcbi8qKioqKiovIFx0XHRcdG9wdGlvbnMgPSB7fTtcclxuLyoqKioqKi8gXHRcdH0gZWxzZSBpZihvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zID09PSBcIm9iamVjdFwiKSB7XHJcbi8qKioqKiovIFx0XHRcdGNhbGxiYWNrID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24oZXJyKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoZXJyKSB0aHJvdyBlcnI7XHJcbi8qKioqKiovIFx0XHRcdH07XHJcbi8qKioqKiovIFx0XHR9IGVsc2Uge1xyXG4vKioqKioqLyBcdFx0XHRvcHRpb25zID0ge307XHJcbi8qKioqKiovIFx0XHRcdGNhbGxiYWNrID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24oZXJyKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoZXJyKSB0aHJvdyBlcnI7XHJcbi8qKioqKiovIFx0XHRcdH07XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRmdW5jdGlvbiBnZXRBZmZlY3RlZFN0dWZmKG1vZHVsZSkge1xyXG4vKioqKioqLyBcdFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW21vZHVsZV07XHJcbi8qKioqKiovIFx0XHRcdHZhciBvdXRkYXRlZERlcGVuZGVuY2llcyA9IHt9O1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHR2YXIgcXVldWUgPSBvdXRkYXRlZE1vZHVsZXMuc2xpY2UoKTtcclxuLyoqKioqKi8gXHRcdFx0d2hpbGUocXVldWUubGVuZ3RoID4gMCkge1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBtb2R1bGVJZCA9IHF1ZXVlLnBvcCgpO1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0XHRpZighbW9kdWxlIHx8IG1vZHVsZS5ob3QuX3NlbGZBY2NlcHRlZClcclxuLyoqKioqKi8gXHRcdFx0XHRcdGNvbnRpbnVlO1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKG1vZHVsZS5ob3QuX3NlbGZEZWNsaW5lZCkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0cmV0dXJuIG5ldyBFcnJvcihcIkFib3J0ZWQgYmVjYXVzZSBvZiBzZWxmIGRlY2xpbmU6IFwiICsgbW9kdWxlSWQpO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRpZihtb2R1bGVJZCA9PT0gMCkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0cmV0dXJuO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgbW9kdWxlLnBhcmVudHMubGVuZ3RoOyBpKyspIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHZhciBwYXJlbnRJZCA9IG1vZHVsZS5wYXJlbnRzW2ldO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0dmFyIHBhcmVudCA9IGluc3RhbGxlZE1vZHVsZXNbcGFyZW50SWRdO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYocGFyZW50LmhvdC5fZGVjbGluZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdHJldHVybiBuZXcgRXJyb3IoXCJBYm9ydGVkIGJlY2F1c2Ugb2YgZGVjbGluZWQgZGVwZW5kZW5jeTogXCIgKyBtb2R1bGVJZCArIFwiIGluIFwiICsgcGFyZW50SWQpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYob3V0ZGF0ZWRNb2R1bGVzLmluZGV4T2YocGFyZW50SWQpID49IDApIGNvbnRpbnVlO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYocGFyZW50LmhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGlmKCFvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF0pXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdID0gW107XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSwgW21vZHVsZUlkXSk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGNvbnRpbnVlO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdFx0ZGVsZXRlIG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdG91dGRhdGVkTW9kdWxlcy5wdXNoKHBhcmVudElkKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHF1ZXVlLnB1c2gocGFyZW50SWQpO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gW291dGRhdGVkTW9kdWxlcywgb3V0ZGF0ZWREZXBlbmRlbmNpZXNdO1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0ZnVuY3Rpb24gYWRkQWxsVG9TZXQoYSwgYikge1xyXG4vKioqKioqLyBcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkrKykge1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBpdGVtID0gYltpXTtcclxuLyoqKioqKi8gXHRcdFx0XHRpZihhLmluZGV4T2YoaXRlbSkgPCAwKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0YS5wdXNoKGl0ZW0pO1xyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHQvLyBhdCBiZWdpbiBhbGwgdXBkYXRlcyBtb2R1bGVzIGFyZSBvdXRkYXRlZFxyXG4vKioqKioqLyBcdFx0Ly8gdGhlIFwib3V0ZGF0ZWRcIiBzdGF0dXMgY2FuIHByb3BhZ2F0ZSB0byBwYXJlbnRzIGlmIHRoZXkgZG9uJ3QgYWNjZXB0IHRoZSBjaGlsZHJlblxyXG4vKioqKioqLyBcdFx0dmFyIG91dGRhdGVkRGVwZW5kZW5jaWVzID0ge307XHJcbi8qKioqKiovIFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW107XHJcbi8qKioqKiovIFx0XHR2YXIgYXBwbGllZFVwZGF0ZSA9IHt9O1xyXG4vKioqKioqLyBcdFx0Zm9yKHZhciBpZCBpbiBob3RVcGRhdGUpIHtcclxuLyoqKioqKi8gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGhvdFVwZGF0ZSwgaWQpKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIG1vZHVsZUlkID0gdG9Nb2R1bGVJZChpZCk7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIHJlc3VsdCA9IGdldEFmZmVjdGVkU3R1ZmYobW9kdWxlSWQpO1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKCFyZXN1bHQpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGlmKG9wdGlvbnMuaWdub3JlVW5hY2NlcHRlZClcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0Y29udGludWU7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRob3RTZXRTdGF0dXMoXCJhYm9ydFwiKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHJldHVybiBjYWxsYmFjayhuZXcgRXJyb3IoXCJBYm9ydGVkIGJlY2F1c2UgXCIgKyBtb2R1bGVJZCArIFwiIGlzIG5vdCBhY2NlcHRlZFwiKSk7XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdGlmKHJlc3VsdCBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRob3RTZXRTdGF0dXMoXCJhYm9ydFwiKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHJldHVybiBjYWxsYmFjayhyZXN1bHQpO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRhcHBsaWVkVXBkYXRlW21vZHVsZUlkXSA9IGhvdFVwZGF0ZVttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWRNb2R1bGVzLCByZXN1bHRbMF0pO1xyXG4vKioqKioqLyBcdFx0XHRcdGZvcih2YXIgbW9kdWxlSWQgaW4gcmVzdWx0WzFdKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocmVzdWx0WzFdLCBtb2R1bGVJZCkpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYoIW91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSlcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0gPSBbXTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdLCByZXN1bHRbMV1bbW9kdWxlSWRdKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdC8vIFN0b3JlIHNlbGYgYWNjZXB0ZWQgb3V0ZGF0ZWQgbW9kdWxlcyB0byByZXF1aXJlIHRoZW0gbGF0ZXIgYnkgdGhlIG1vZHVsZSBzeXN0ZW1cclxuLyoqKioqKi8gXHRcdHZhciBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMgPSBbXTtcclxuLyoqKioqKi8gXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBvdXRkYXRlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcclxuLyoqKioqKi8gXHRcdFx0dmFyIG1vZHVsZUlkID0gb3V0ZGF0ZWRNb2R1bGVzW2ldO1xyXG4vKioqKioqLyBcdFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSAmJiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZClcclxuLyoqKioqKi8gXHRcdFx0XHRvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMucHVzaCh7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRtb2R1bGU6IG1vZHVsZUlkLFxyXG4vKioqKioqLyBcdFx0XHRcdFx0ZXJyb3JIYW5kbGVyOiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZFxyXG4vKioqKioqLyBcdFx0XHRcdH0pO1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0Ly8gTm93IGluIFwiZGlzcG9zZVwiIHBoYXNlXHJcbi8qKioqKiovIFx0XHRob3RTZXRTdGF0dXMoXCJkaXNwb3NlXCIpO1xyXG4vKioqKioqLyBcdFx0dmFyIHF1ZXVlID0gb3V0ZGF0ZWRNb2R1bGVzLnNsaWNlKCk7XHJcbi8qKioqKiovIFx0XHR3aGlsZShxdWV1ZS5sZW5ndGggPiAwKSB7XHJcbi8qKioqKiovIFx0XHRcdHZhciBtb2R1bGVJZCA9IHF1ZXVlLnBvcCgpO1xyXG4vKioqKioqLyBcdFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdGlmKCFtb2R1bGUpIGNvbnRpbnVlO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHR2YXIgZGF0YSA9IHt9O1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHQvLyBDYWxsIGRpc3Bvc2UgaGFuZGxlcnNcclxuLyoqKioqKi8gXHRcdFx0dmFyIGRpc3Bvc2VIYW5kbGVycyA9IG1vZHVsZS5ob3QuX2Rpc3Bvc2VIYW5kbGVycztcclxuLyoqKioqKi8gXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRpc3Bvc2VIYW5kbGVycy5sZW5ndGg7IGorKykge1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBjYiA9IGRpc3Bvc2VIYW5kbGVyc1tqXTtcclxuLyoqKioqKi8gXHRcdFx0XHRjYihkYXRhKTtcclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRob3RDdXJyZW50TW9kdWxlRGF0YVttb2R1bGVJZF0gPSBkYXRhO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHQvLyBkaXNhYmxlIG1vZHVsZSAodGhpcyBkaXNhYmxlcyByZXF1aXJlcyBmcm9tIHRoaXMgbW9kdWxlKVxyXG4vKioqKioqLyBcdFx0XHRtb2R1bGUuaG90LmFjdGl2ZSA9IGZhbHNlO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHQvLyByZW1vdmUgbW9kdWxlIGZyb20gY2FjaGVcclxuLyoqKioqKi8gXHRcdFx0ZGVsZXRlIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHQvLyByZW1vdmUgXCJwYXJlbnRzXCIgcmVmZXJlbmNlcyBmcm9tIGFsbCBjaGlsZHJlblxyXG4vKioqKioqLyBcdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgbW9kdWxlLmNoaWxkcmVuLmxlbmd0aDsgaisrKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIGNoaWxkID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGUuY2hpbGRyZW5bal1dO1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKCFjaGlsZCkgY29udGludWU7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIGlkeCA9IGNoaWxkLnBhcmVudHMuaW5kZXhPZihtb2R1bGVJZCk7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoaWR4ID49IDApIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGNoaWxkLnBhcmVudHMuc3BsaWNlKGlkeCwgMSk7XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHQvLyByZW1vdmUgb3V0ZGF0ZWQgZGVwZW5kZW5jeSBmcm9tIG1vZHVsZSBjaGlsZHJlblxyXG4vKioqKioqLyBcdFx0Zm9yKHZhciBtb2R1bGVJZCBpbiBvdXRkYXRlZERlcGVuZGVuY2llcykge1xyXG4vKioqKioqLyBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3V0ZGF0ZWREZXBlbmRlbmNpZXMsIG1vZHVsZUlkKSkge1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSBvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzLmxlbmd0aDsgaisrKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR2YXIgZGVwZW5kZW5jeSA9IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2pdO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0dmFyIGlkeCA9IG1vZHVsZS5jaGlsZHJlbi5pbmRleE9mKGRlcGVuZGVuY3kpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYoaWR4ID49IDApIG1vZHVsZS5jaGlsZHJlbi5zcGxpY2UoaWR4LCAxKTtcclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdC8vIE5vdCBpbiBcImFwcGx5XCIgcGhhc2VcclxuLyoqKioqKi8gXHRcdGhvdFNldFN0YXR1cyhcImFwcGx5XCIpO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0aG90Q3VycmVudEhhc2ggPSBob3RVcGRhdGVOZXdIYXNoO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0Ly8gaW5zZXJ0IG5ldyBjb2RlXHJcbi8qKioqKiovIFx0XHRmb3IodmFyIG1vZHVsZUlkIGluIGFwcGxpZWRVcGRhdGUpIHtcclxuLyoqKioqKi8gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGFwcGxpZWRVcGRhdGUsIG1vZHVsZUlkKSkge1xyXG4vKioqKioqLyBcdFx0XHRcdG1vZHVsZXNbbW9kdWxlSWRdID0gYXBwbGllZFVwZGF0ZVttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdC8vIGNhbGwgYWNjZXB0IGhhbmRsZXJzXHJcbi8qKioqKiovIFx0XHR2YXIgZXJyb3IgPSBudWxsO1xyXG4vKioqKioqLyBcdFx0Zm9yKHZhciBtb2R1bGVJZCBpbiBvdXRkYXRlZERlcGVuZGVuY2llcykge1xyXG4vKioqKioqLyBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3V0ZGF0ZWREZXBlbmRlbmNpZXMsIG1vZHVsZUlkKSkge1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSBvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIGNhbGxiYWNrcyA9IFtdO1xyXG4vKioqKioqLyBcdFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcy5sZW5ndGg7IGkrKykge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0dmFyIGRlcGVuZGVuY3kgPSBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tpXTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHZhciBjYiA9IG1vZHVsZS5ob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcGVuZGVuY3ldO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYoY2FsbGJhY2tzLmluZGV4T2YoY2IpID49IDApIGNvbnRpbnVlO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0Y2FsbGJhY2tzLnB1c2goY2IpO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgY2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR2YXIgY2IgPSBjYWxsYmFja3NbaV07XHJcbi8qKioqKiovIFx0XHRcdFx0XHR0cnkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRjYihvdXRkYXRlZERlcGVuZGVuY2llcyk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR9IGNhdGNoKGVycikge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpZighZXJyb3IpXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0ZXJyb3IgPSBlcnI7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHQvLyBMb2FkIHNlbGYgYWNjZXB0ZWQgbW9kdWxlc1xyXG4vKioqKioqLyBcdFx0Zm9yKHZhciBpID0gMDsgaSA8IG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xyXG4vKioqKioqLyBcdFx0XHR2YXIgaXRlbSA9IG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlc1tpXTtcclxuLyoqKioqKi8gXHRcdFx0dmFyIG1vZHVsZUlkID0gaXRlbS5tb2R1bGU7XHJcbi8qKioqKiovIFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0dHJ5IHtcclxuLyoqKioqKi8gXHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKTtcclxuLyoqKioqKi8gXHRcdFx0fSBjYXRjaChlcnIpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRpZih0eXBlb2YgaXRlbS5lcnJvckhhbmRsZXIgPT09IFwiZnVuY3Rpb25cIikge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0dHJ5IHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aXRlbS5lcnJvckhhbmRsZXIoZXJyKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdH0gY2F0Y2goZXJyKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGlmKCFlcnJvcilcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRlcnJvciA9IGVycjtcclxuLyoqKioqKi8gXHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHR9IGVsc2UgaWYoIWVycm9yKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0ZXJyb3IgPSBlcnI7XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdC8vIGhhbmRsZSBlcnJvcnMgaW4gYWNjZXB0IGhhbmRsZXJzIGFuZCBzZWxmIGFjY2VwdGVkIG1vZHVsZSBsb2FkXHJcbi8qKioqKiovIFx0XHRpZihlcnJvcikge1xyXG4vKioqKioqLyBcdFx0XHRob3RTZXRTdGF0dXMoXCJmYWlsXCIpO1xyXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gY2FsbGJhY2soZXJyb3IpO1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0aG90U2V0U3RhdHVzKFwiaWRsZVwiKTtcclxuLyoqKioqKi8gXHRcdGNhbGxiYWNrKG51bGwsIG91dGRhdGVkTW9kdWxlcyk7XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge30sXG4vKioqKioqLyBcdFx0XHRpZDogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsb2FkZWQ6IGZhbHNlLFxuLyoqKioqKi8gXHRcdFx0aG90OiBob3RDcmVhdGVNb2R1bGUobW9kdWxlSWQpLFxuLyoqKioqKi8gXHRcdFx0cGFyZW50czogaG90Q3VycmVudFBhcmVudHMsXG4vKioqKioqLyBcdFx0XHRjaGlsZHJlbjogW11cbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBob3RDcmVhdGVSZXF1aXJlKG1vZHVsZUlkKSk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiL1ZSUHV6emxlL3B1YmxpYy9cIjtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19oYXNoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5oID0gZnVuY3Rpb24oKSB7IHJldHVybiBob3RDdXJyZW50SGFzaDsgfTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gaG90Q3JlYXRlUmVxdWlyZSgwKSgwKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0dmFyIF9nYW1lID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfZ2FtZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nYW1lKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgZ2FtZSA9IG5ldyBfZ2FtZTIuZGVmYXVsdCgpO1xuXHRcblx0dmFyIGxvb3AgPSBmdW5jdGlvbiBsb29wKCkge1xuXHQgICAgZ2FtZS5yZW5kZXIoKTtcblx0ICAgIC8vIHJlcXVlc3RBbmltYXRpb25GcmFtZShsb29wKVxuXHR9O1xuXHRsb29wKCk7XG5cbi8qKiovIH0sXG4vKiAxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0dmFyIF9tb3VzZSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX21vdXNlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21vdXNlKTtcblx0XG5cdHZhciBfc3dlZXRhbGVydCA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdFxuXHR2YXIgX3N3ZWV0YWxlcnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3dlZXRhbGVydCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdHZhciBHYW1lID0gZnVuY3Rpb24gKCkge1xuXHQgICAgZnVuY3Rpb24gR2FtZSgpIHtcblx0ICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgR2FtZSk7XG5cdFxuXHQgICAgICAgIC8vIENyZWF0ZSBhIHRocmVlLmpzIHNjZW5lLlxuXHQgICAgICAgIHRoaXMuc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcblx0XG5cdCAgICAgICAgLy8gQ3JlYXRlIGEgdGhyZWUuanMgY2FtZXJhLlxuXHQgICAgICAgIHRoaXMuY2FtZXJhID0gbmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKDc1LCB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodCwgMC4xLCAxMDAwMCk7XG5cdFxuXHQgICAgICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnNldCgwLCAxMCwgMCk7XG5cdCAgICAgICAgdGhpcy5jb250cm9scyA9IG5ldyBUSFJFRS5EZXZpY2VPcmllbnRhdGlvbkNvbnRyb2xzKHRoaXMuY2FtZXJhKTtcblx0XG5cdCAgICAgICAgdGhpcy5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKHtcblx0ICAgICAgICAgICAgYW50aWFsaWFzOiB0cnVlXG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRQaXhlbFJhdGlvKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcblx0ICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XG5cdCAgICAgICAgdGhpcy5yZW5kZXJlci5kb21FbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcblx0ICAgICAgICB0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQuc3R5bGUudG9wID0gMDtcblx0ICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudCk7XG5cdFxuXHQgICAgICAgIC8vIHJheWNhc3RlclxuXHQgICAgICAgIHRoaXMucmF5Y2FzdGVyID0gbmV3IFRIUkVFLlJheWNhc3RlcigpO1xuXHQgICAgICAgIHRoaXMubW91c2UgPSBuZXcgX21vdXNlMi5kZWZhdWx0KCk7XG5cdCAgICAgICAgLy9iaW5kIHRoaXNcblx0ICAgICAgICB0aGlzLm9uVGV4dHVyZUxvYWRlZCA9IHRoaXMub25UZXh0dXJlTG9hZGVkLmJpbmQodGhpcyk7XG5cdCAgICAgICAgdGhpcy5vblJlc2l6ZSA9IHRoaXMub25SZXNpemUuYmluZCh0aGlzKTtcblx0ICAgICAgICB0aGlzLnJlbmRlciA9IHRoaXMucmVuZGVyLmJpbmQodGhpcyk7XG5cdCAgICAgICAgdGhpcy5wbGFjZVBpZWNlcyA9IHRoaXMucGxhY2VQaWVjZXMuYmluZCh0aGlzKTtcblx0ICAgICAgICAvL1xuXHQgICAgICAgIHRoaXMubWVzaExpc3QgPSBbXTtcblx0ICAgICAgICB0aGlzLmxvZ0ZsYWcgPSB0cnVlO1xuXHQgICAgICAgIC8vIEFkZCBhIHJlcGVhdGluZyBncmlkIGFzIGEgc2t5Ym94LlxuXHQgICAgICAgIHRoaXMuYm94U2l6ZSA9IDMwO1xuXHQgICAgICAgIC8vIHRoaXMubG9hZGVyID0gbmV3IFRIUkVFLlRleHR1cmVMb2FkZXIoKVxuXHQgICAgICAgIC8vIHRoaXMubG9hZGVyLmxvYWQoXCJwdWJsaWMvaW1hZ2VzL2JveC5wbmdcIiwgdGhpcy5vblRleHR1cmVMb2FkZWQpXG5cdCAgICAgICAgLy8gbGV0IHRleHR1cmUgPSBuZXcgVEhSRUUuVGV4dHVyZSgpXG5cdCAgICAgICAgdGhpcy5vblRleHR1cmVMb2FkZWQoKTtcblx0ICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB0aGlzLm9uUmVzaXplLCB0cnVlKTtcblx0ICAgICAgICAvLyB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInZyZGlzcGxheXByZXNlbnRjaGFuZ2VcIiwgdGhpcy5vblJlc2l6ZSwgdHJ1ZSlcblx0ICAgICAgICB0aGlzLmxhc3RSZW5kZXIgPSAwO1xuXHQgICAgICAgIHRoaXMuZGlzcGxheSA9IG51bGw7XG5cdCAgICB9XG5cdFxuXHQgICAgX2NyZWF0ZUNsYXNzKEdhbWUsIFt7XG5cdCAgICAgICAga2V5OiBcIm9uVGV4dHVyZUxvYWRlZFwiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvblRleHR1cmVMb2FkZWQoKSB7XG5cdCAgICAgICAgICAgIC8vIHRleHR1cmUud3JhcFMgPSBUSFJFRS5SZXBlYXRXcmFwcGluZ1xuXHQgICAgICAgICAgICAvLyB0ZXh0dXJlLndyYXBUID0gVEhSRUUuUmVwZWF0V3JhcHBpbmdcblx0ICAgICAgICAgICAgLy8gdGV4dHVyZS5yZXBlYXQuc2V0KHRoaXMuYm94U2l6ZSwgdGhpcy5ib3hTaXplKVxuXHRcblx0ICAgICAgICAgICAgdmFyIGdlb21ldHJ5ID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KHRoaXMuYm94U2l6ZSwgdGhpcy5ib3hTaXplLCB0aGlzLmJveFNpemUpO1xuXHQgICAgICAgICAgICB2YXIgbWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoeyBjb2xvcjogMHhmZjAwZmYsIHNpZGU6IFRIUkVFLkJhY2tTaWRlLCB3aXJlZnJhbWU6IHRydWUgfSk7XG5cdFxuXHQgICAgICAgICAgICAvLyBBbGlnbiB0aGUgc2t5Ym94IHRvIHRoZSBmbG9vciAod2hpY2ggaXMgYXQgeT0wKS5cblx0ICAgICAgICAgICAgdGhpcy5za3lib3ggPSBuZXcgVEhSRUUuTWVzaChnZW9tZXRyeSwgbWF0ZXJpYWwpO1xuXHQgICAgICAgICAgICB0aGlzLnNreWJveC5wb3NpdGlvbi55ID0gdGhpcy5ib3hTaXplIC8gMjtcblx0ICAgICAgICAgICAgdGhpcy5zY2VuZS5hZGQodGhpcy5za3lib3gpO1xuXHQgICAgICAgICAgICB0aGlzLnBsYWNlUGllY2VzKCk7XG5cdCAgICAgICAgICAgIHRoaXMucGxhY2VTcGhlcmUoKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiBcInBsYWNlU3BoZXJlXCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHBsYWNlU3BoZXJlKCkge1xuXHQgICAgICAgICAgICB2YXIgZ2VvbWV0cnkgPSBuZXcgVEhSRUUuU3BoZXJlR2VvbWV0cnkoNTAsIDE2LCA4KTtcblx0ICAgICAgICAgICAgZ2VvbWV0cnkuc2NhbGUoLTEsIDEsIDEpO1xuXHQgICAgICAgICAgICAvLyBnZW9tZXRyeS5zY2FsZSggLSAxLCAxLCAxICk7XG5cdCAgICAgICAgICAgIC8vIHZhciBzcGhlcmUgPSByZXF1aXJlKFwiLi4vLi4vcHVibGljL2ltYWdlcy9zcGhlcmUgKDIpLmpwZ1wiKVxuXHQgICAgICAgICAgICB2YXIgbG9hZGVyID0gbmV3IFRIUkVFLlRleHR1cmVMb2FkZXIoKTtcblx0ICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXHQgICAgICAgICAgICBsb2FkZXIubG9hZChcInB1YmxpYy9pbWFnZXMvc3BoZXJlICgyKS5qcGdcIiwgZnVuY3Rpb24gKHRleHR1cmUpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBtYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7XG5cdCAgICAgICAgICAgICAgICAgICAgbWFwOiB0ZXh0dXJlXG5cdCAgICAgICAgICAgICAgICB9KTtcblx0XG5cdCAgICAgICAgICAgICAgICB2YXIgbWVzaCA9IG5ldyBUSFJFRS5NZXNoKGdlb21ldHJ5LCBtYXRlcmlhbCk7XG5cdCAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhtZXNoKVxuXHQgICAgICAgICAgICAgICAgbWVzaC5wb3NpdGlvbi5zZXQoMCwgMCwgMTApO1xuXHQgICAgICAgICAgICAgICAgc2VsZi5zY2VuZS5hZGQobWVzaCk7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6IFwicGxhY2VQaWVjZXNcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcGxhY2VQaWVjZXMoKSB7XG5cdFxuXHQgICAgICAgICAgICB0aGlzLmNvbHVtbk51bWJlciA9IDQ7XG5cdCAgICAgICAgICAgIHRoaXMucGllY2VOdW1iZXIgPSB0aGlzLmNvbHVtbk51bWJlciAqIHRoaXMuY29sdW1uTnVtYmVyO1xuXHQgICAgICAgICAgICB0aGlzLnNjYWxlZFdpZHRoID0gMTY7XG5cdCAgICAgICAgICAgIHRoaXMuc2NhbGVkSGVpZ2h0ID0gOTtcblx0ICAgICAgICAgICAgdGhpcy5mcmVlUGllY2VOdW1iZXIgPSB0aGlzLnBpZWNlTnVtYmVyICogMSAvIDI7XG5cdCAgICAgICAgICAgIHRoaXMuZnJlZVBpZWNlTGlzdCA9IFtdO1xuXHQgICAgICAgICAgICB0aGlzLnBsYW5lV2lkdGggPSB0aGlzLnNjYWxlZFdpZHRoIC8gdGhpcy5jb2x1bW5OdW1iZXI7XG5cdCAgICAgICAgICAgIHRoaXMucGxhbmVIZWlnaHQgPSB0aGlzLnNjYWxlZEhlaWdodCAvIHRoaXMuY29sdW1uTnVtYmVyO1xuXHQgICAgICAgICAgICB0aGlzLnNlbGVjdGVkTWVzaCA9IG51bGw7IC8vdGhlIGxhc3QgY2xpY2tlZCBtZXNoSWRcblx0ICAgICAgICAgICAgdGhpcy5ob2xkTWFwID0ge307XG5cdCAgICAgICAgICAgIHRoaXMubWVzaENhbnZhc01hcCA9IHt9O1xuXHQgICAgICAgICAgICAvLyB0aGlzLlxuXHQgICAgICAgICAgICAvLyBsb2FkIGFuIGltYWdlXG5cdCAgICAgICAgICAgIHZhciBpbWFnZU9iaiA9IG5ldyBJbWFnZSgpO1xuXHQgICAgICAgICAgICBpbWFnZU9iai5zcmMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHQgICAgICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcblx0ICAgICAgICAgICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuXHQgICAgICAgICAgICB2YXIgd3MgPSBjYW52YXMud2lkdGggLyAxLjUgLyBpbWFnZU9iai53aWR0aDtcblx0ICAgICAgICAgICAgdmFyIGhzID0gY2FudmFzLmhlaWdodCAvIDEuNSAvIGltYWdlT2JqLmhlaWdodDtcblx0ICAgICAgICAgICAgdGhpcy5zY2FsZSA9IE1hdGgubWluKHdzLCBocyk7XG5cdCAgICAgICAgICAgIHRoaXMucGllY2VXaWR0aCA9IGltYWdlT2JqLndpZHRoIC8gdGhpcy5jb2x1bW5OdW1iZXI7XG5cdCAgICAgICAgICAgIHRoaXMucGllY2VIZWlnaHQgPSBpbWFnZU9iai5oZWlnaHQgLyB0aGlzLmNvbHVtbk51bWJlcjtcblx0ICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5waWVjZVdpZHRoLHRoaXMucGllY2VIZWlnaHQpXG5cdCAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcblx0ICAgICAgICAgICAgaW1hZ2VPYmoub25sb2FkID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGluZGV4ID0gMCwgdGV4dHVyZSwgbWF0ZXJpYWwsIG1lc2g7IGkgPCBzZWxmLmNvbHVtbk51bWJlcjsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzZWxmLmNvbHVtbk51bWJlcjsgaisrLCBpbmRleCsrKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlID0gbmV3IFRIUkVFLlRleHR1cmUoY2FudmFzKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoaW1hZ2VPYmosIGkgKiBzZWxmLnBpZWNlV2lkdGgsIGogKiBzZWxmLnBpZWNlSGVpZ2h0LCBzZWxmLnBpZWNlV2lkdGgsIHNlbGYucGllY2VIZWlnaHQsIDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ZXh0dXJlKSAvLyBjaGVja3MgaWYgdGV4dHVyZSBleGlzdHNcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmUubmVlZHNVcGRhdGUgPSB0cnVlO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwOiB0ZXh0dXJlLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2lkZTogVEhSRUUuRG91YmxlU2lkZVxuXHQgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWwudHJhbnNwYXJlbnQgPSBmYWxzZTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIG1lc2ggPSBuZXcgVEhSRUUuTWVzaChuZXcgVEhSRUUuUGxhbmVHZW9tZXRyeShzZWxmLnBsYW5lV2lkdGgsIHNlbGYucGxhbmVIZWlnaHQpLCBtYXRlcmlhbCk7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmFuZG9tID0gTWF0aC5yYW5kb20oKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJhbmRvbSA8IHNlbGYuZnJlZVBpZWNlTnVtYmVyIC8gKHNlbGYuY29sdW1uTnVtYmVyICogc2VsZi5jb2x1bW5OdW1iZXIgLSBpbmRleCkgJiYgc2VsZi5mcmVlUGllY2VOdW1iZXIgPiAwKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgeCA9IC1zZWxmLmJveFNpemUgLyAyICsgc2VsZi5wbGFuZVdpZHRoIC8gMiArIE1hdGgucmFuZG9tKCkgKiAoc2VsZi5ib3hTaXplIC0gc2VsZi5wbGFuZVdpZHRoKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB6ID0gLXNlbGYuYm94U2l6ZSAvIDIgKyBzZWxmLnBsYW5lSGVpZ2h0IC8gMiArIE1hdGgucmFuZG9tKCkgKiAoc2VsZi5ib3hTaXplIC0gc2VsZi5wbGFuZUhlaWdodCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNoLnJvdGF0aW9uLnggPSBNYXRoLlBJIC8gMjtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc2gucG9zaXRpb24uc2V0KE1hdGgucm91bmQoeCksIDAuNSwgTWF0aC5yb3VuZCh6KSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYmxhbmtNZXNoID0gbWVzaC5jbG9uZSgpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5ob2xkTWFwW21lc2guaWRdID0gYmxhbmtNZXNoO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxhbmtNZXNoLnJvdGF0aW9uLnggPSAwO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxhbmtNZXNoLm1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogMHg4MDgwODAsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2lkZTogVEhSRUUuRG91YmxlU2lkZVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBibGFua01lc2gucG9zaXRpb24uc2V0KGkgKiBzZWxmLnBsYW5lV2lkdGggLSBzZWxmLnNjYWxlZFdpZHRoIC8gMiArIHNlbGYucGxhbmVXaWR0aCAvIDIsIDUgKyBzZWxmLnNjYWxlZEhlaWdodCAtIHNlbGYucGxhbmVIZWlnaHQgLyAyIC0gaiAqIHNlbGYucGxhbmVIZWlnaHQsIC05Ljk5KTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc2NlbmUuYWRkKGJsYW5rTWVzaCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmZyZWVQaWVjZU51bWJlci0tO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5mcmVlUGllY2VMaXN0LnB1c2gobWVzaC5pZCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm1lc2hDYW52YXNNYXBbbWVzaC5pZF0gPSBjYW52YXM7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNoLnBvc2l0aW9uLnNldChpICogc2VsZi5wbGFuZVdpZHRoIC0gc2VsZi5zY2FsZWRXaWR0aCAvIDIgKyBzZWxmLnBsYW5lV2lkdGggLyAyLCA1ICsgc2VsZi5zY2FsZWRIZWlnaHQgLSBzZWxmLnBsYW5lSGVpZ2h0IC8gMiAtIGogKiBzZWxmLnBsYW5lSGVpZ2h0LCAtOS45OSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWVzaC5wb3NpdGlvbi5zZXQoMCwgMiwtOSlcblx0ICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5tZXNoTGlzdC5wdXNoKG1lc2gpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnNjZW5lLmFkZChtZXNoKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2codHlwZW9mIHRoaXMuc2NlbmUpXG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICAvLyBzd2FsKHtcblx0ICAgICAgICAgICAgLy8gICAgIHRpdGxlOiBcIuaPkOekulwiLFxuXHQgICAgICAgICAgICAvLyAgICAgdGV4dDogXCLmiorlsY/luZXkuK3lpK7nmoTlsI/miYvlr7nlh4blnLDkuIrnmoTlm77niYfvvIzngrnlh7vmjInpkq7mjaHotbfvvIzlho3miorlm77niYflr7nlh4bljp/lm77kvY3nva7vvIzngrnlh7votLTkuIpcIixcblx0ICAgICAgICAgICAgLy8gICAgIGNvbmZpcm1CdXR0b25UZXh0OiBcIuWlveeahFwiXG5cdCAgICAgICAgICAgIC8vIH0pXG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJyZW5kZXJcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKHRpbWVzdGFtcCkge1xuXHQgICAgICAgICAgICAvLyB2YXIgZGVsdGEgPSBNYXRoLm1pbih0aW1lc3RhbXAgLSB0aGlzLmxhc3RSZW5kZXIsIDUwMClcblx0ICAgICAgICAgICAgdGhpcy5sYXN0UmVuZGVyID0gdGltZXN0YW1wO1xuXHQgICAgICAgICAgICAvL+WkhOeQhum8oOagh+eCueWHu1xuXHQgICAgICAgICAgICB0aGlzLnJheWNhc3Rlci5zZXRGcm9tQ2FtZXJhKHRoaXMubW91c2UsIHRoaXMuY2FtZXJhKTtcblx0ICAgICAgICAgICAgdmFyIGludGVyc2VjdHMgPSB0aGlzLnJheWNhc3Rlci5pbnRlcnNlY3RPYmplY3RzKHRoaXMuc2NlbmUuY2hpbGRyZW4pO1xuXHQgICAgICAgICAgICB0aGlzLm1vdXNlLnggPSB0aGlzLm1vdXNlLnkgPSB1bmRlZmluZWQ7XG5cdCAgICAgICAgICAgIGlmIChpbnRlcnNlY3RzLmxlbmd0aCA+IDApIHtcblx0ICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGludGVyc2VjdHMpXG5cdCAgICAgICAgICAgICAgICB2YXIgY2xpY2tGbGFnID0gZmFsc2U7XG5cdCAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG5cdCAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcblx0ICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblx0XG5cdCAgICAgICAgICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IHRoaXMubWVzaExpc3RbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtZXNoID0gX3N0ZXAudmFsdWU7XG5cdFxuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZnJlZVBpZWNlTGlzdC5pbmRleE9mKG1lc2guaWQpID4gLTEgJiYgbWVzaC5pZCA9PSBpbnRlcnNlY3RzWzBdLm9iamVjdC5pZCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWVzaC5tYXRlcmlhbC5jb2xvci5zZXQoMHhmZjAwMDApXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZE1lc2ggIT09IG51bGwpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFyQ2FudmFzKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE1lc2gudmlzaWJsZSA9IHRydWU7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkTWVzaCA9IG1lc2g7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1vdXNlLnBpY2tCdG4uaW5uZXJIVE1MID0gXCLotLTkuIpcIjtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrRmxhZyA9IHRydWU7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzaC52aXNpYmxlID0gZmFsc2U7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBpblwiKS5hcHBlbmRDaGlsZCh0aGlzLm1lc2hDYW52YXNNYXBbbWVzaC5pZF0pO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuXHQgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuXHQgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcblx0ICAgICAgICAgICAgICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZE1lc2ggJiYgdGhpcy5ob2xkTWFwW3RoaXMuc2VsZWN0ZWRNZXNoLmlkXS5pZCA9PSBpbnRlcnNlY3RzWzBdLm9iamVjdC5pZCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciB0ID0gaW50ZXJzZWN0c1swXS5vYmplY3QucG9zaXRpb247XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE1lc2gucG9zaXRpb24uc2V0KHQueCwgdC55LCB0LnopO1xuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRNZXNoLnJvdGF0aW9uLnNldCgwLCAwLCAwKTtcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLmhvbGRNYXBbdGhpcy5zZWxlY3RlZE1lc2guaWRdLnBvc2l0aW9uLnogLT0gMTtcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkTWVzaC52aXNpYmxlID0gdHJ1ZTtcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLm1vdXNlLnBpY2tCdG4uaW5uZXJIVE1MID0gXCLmjaHotbdcIjtcblx0ICAgICAgICAgICAgICAgICAgICAvL+WcqOacquaLvOaIkOWbvueJh+WIl+ihqOS4reWPluWHuuW9k+WJjemhuVxuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuZnJlZVBpZWNlTGlzdC5zcGxpY2UodGhpcy5mcmVlUGllY2VMaXN0LmluZGV4T2YodGhpcy5zZWxlY3RlZE1lc2guaWQpLCAxKTtcblx0ICAgICAgICAgICAgICAgICAgICAvL+a4healmuW9k+WJjemAieWPlueahOWbvuWDj1xuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJDYW52YXMoKTtcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkTWVzaCA9IG51bGw7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZnJlZVBpZWNlTGlzdC5sZW5ndGggPT0gMCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAoMCwgX3N3ZWV0YWxlcnQyLmRlZmF1bHQpKHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIuaBreWWnO+8gVwiLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogXCLmiJDlip/mi7zlrozkuobkuIDlvKDlm77vvIzlj6/mmK/miJHkuZ/kuI3kvJrnu5nkvaDmtYHph49cIixcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiBcIuWlveeahFwiXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkTWVzaCAmJiAhY2xpY2tGbGFnKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3VzZS5waWNrQnRuLmlubmVySFRNTCA9IFwi5o2h6LW3XCI7XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE1lc2gudmlzaWJsZSA9IHRydWU7XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGVhckNhbnZhcygpO1xuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRNZXNoID0gbnVsbDtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgdGhpcy5jb250cm9scy51cGRhdGUoKTtcblx0ICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xuXHRcblx0ICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMucmVuZGVyKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiBcIm9uUmVzaXplXCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uUmVzaXplKGUpIHtcblx0ICAgICAgICAgICAgdGhpcy5jYW1lcmEuYXNwZWN0ID0gd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQ7XG5cdCAgICAgICAgICAgIHRoaXMuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcblx0ICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6IFwiY2xlYXJDYW52YXNcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXJDYW52YXMoKSB7XG5cdCAgICAgICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3BpbiBjYW52YXNcIik7XG5cdCAgICAgICAgICAgIHZhciBwaW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBpblwiKTtcblx0ICAgICAgICAgICAgd2hpbGUgKGNhbnZhcyAhPSBudWxsKSB7XG5cdCAgICAgICAgICAgICAgICBwaW4ucmVtb3ZlQ2hpbGQoY2FudmFzKTtcblx0ICAgICAgICAgICAgICAgIGNhbnZhcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcGluIGNhbnZhc1wiKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH1dKTtcblx0XG5cdCAgICByZXR1cm4gR2FtZTtcblx0fSgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gR2FtZTtcblxuLyoqKi8gfSxcbi8qIDIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblx0XG5cdHZhciBNb3VzZSA9IGZ1bmN0aW9uIChfVEhSRUUkVmVjdG9yKSB7XG5cdCAgICBfaW5oZXJpdHMoTW91c2UsIF9USFJFRSRWZWN0b3IpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIE1vdXNlKHByb3BzKSB7XG5cdCAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1vdXNlKTtcblx0XG5cdCAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgT2JqZWN0LmdldFByb3RvdHlwZU9mKE1vdXNlKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cdFxuXHQgICAgICAgIF90aGlzLnggPSB1bmRlZmluZWQ7XG5cdCAgICAgICAgX3RoaXMueSA9IHVuZGVmaW5lZDtcblx0ICAgICAgICAvLyB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggXCJjbGlja1wiLCB0aGlzLm9uTW91c2VDbGljay5iaW5kKHRoaXMpLCBmYWxzZSApXG5cdCAgICAgICAgX3RoaXMucGlja0J0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGljay1idG5cIik7XG5cdCAgICAgICAgX3RoaXMucGlja0hhbmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBpY2staGFuZFwiKTtcblx0ICAgICAgICBfdGhpcy5waWNrQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBfdGhpcy5idG5PbkNsaWNrLmJpbmQoX3RoaXMpLCBmYWxzZSk7XG5cdCAgICAgICAgLy8gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMub25Nb3VzZUNsaWNrLmJpbmQodGhpcyksZmFsc2UpXG5cdCAgICAgICAgcmV0dXJuIF90aGlzO1xuXHQgICAgfVxuXHRcblx0ICAgIF9jcmVhdGVDbGFzcyhNb3VzZSwgW3tcblx0ICAgICAgICBrZXk6IFwib25Nb3VzZUNsaWNrXCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uTW91c2VDbGljayhldmVudCkge1xuXHQgICAgICAgICAgICAvLyBjYWxjdWxhdGUgbW91c2UgcG9zaXRpb24gaW4gbm9ybWFsaXplZCBkZXZpY2UgY29vcmRpbmF0ZXNcblx0ICAgICAgICAgICAgLy8gKC0xIHRvICsxKSBmb3IgYm90aCBjb21wb25lbnRzXG5cdCAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGV2ZW50LmNsaWVudFgsZXZlbnQuY2xpZW50WSlcblx0ICAgICAgICAgICAgdGhpcy54ID0gZXZlbnQuY2xpZW50WCAvIHdpbmRvdy5pbm5lcldpZHRoICogMiAtIDE7XG5cdCAgICAgICAgICAgIHRoaXMueSA9IC0oZXZlbnQuY2xpZW50WSAvIHdpbmRvdy5pbm5lckhlaWdodCkgKiAyICsgMTtcblx0ICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy54LHRoaXMueSlcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiBcImJ0bk9uQ2xpY2tcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYnRuT25DbGljayhldmVudCkge1xuXHQgICAgICAgICAgICB0aGlzLnggPSAwLjQ2ICogMiAtIDE7XG5cdCAgICAgICAgICAgIHRoaXMueSA9IC0wLjM5NSAqIDIgKyAxO1xuXHQgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLngsdGhpcy55KVxuXHQgICAgICAgIH1cblx0ICAgIH1dKTtcblx0XG5cdCAgICByZXR1cm4gTW91c2U7XG5cdH0oVEhSRUUuVmVjdG9yMik7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBNb3VzZTtcblxuLyoqKi8gfSxcbi8qIDMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJpbWFnZXMvcHV6emxlcy9jYXJ0b29uICg1KS5qcGdcIjtcblxuLyoqKi8gfSxcbi8qIDQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gc3dhbDtcblxuLyoqKi8gfVxuLyoqKioqKi8gXSk7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogVlJQdXp6bGUuYnVuZGxlLmpzXG4gKiovIiwiIFx0dmFyIHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrID0gdGhpc1tcIndlYnBhY2tIb3RVcGRhdGVcIl07XG4gXHR0aGlzW1wid2VicGFja0hvdFVwZGF0ZVwiXSA9IFxyXG4gXHRmdW5jdGlvbiB3ZWJwYWNrSG90VXBkYXRlQ2FsbGJhY2soY2h1bmtJZCwgbW9yZU1vZHVsZXMpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4gXHRcdGhvdEFkZFVwZGF0ZUNodW5rKGNodW5rSWQsIG1vcmVNb2R1bGVzKTtcclxuIFx0XHRpZihwYXJlbnRIb3RVcGRhdGVDYWxsYmFjaykgcGFyZW50SG90VXBkYXRlQ2FsbGJhY2soY2h1bmtJZCwgbW9yZU1vZHVsZXMpO1xyXG4gXHR9XHJcbiBcdFxyXG4gXHRmdW5jdGlvbiBob3REb3dubG9hZFVwZGF0ZUNodW5rKGNodW5rSWQpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4gXHRcdHZhciBoZWFkID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdO1xyXG4gXHRcdHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO1xyXG4gXHRcdHNjcmlwdC50eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIjtcclxuIFx0XHRzY3JpcHQuY2hhcnNldCA9IFwidXRmLThcIjtcclxuIFx0XHRzY3JpcHQuc3JjID0gX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJcIiArIGNodW5rSWQgKyBcIi5cIiArIGhvdEN1cnJlbnRIYXNoICsgXCIuaG90LXVwZGF0ZS5qc1wiO1xyXG4gXHRcdGhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcclxuIFx0fVxyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90RG93bmxvYWRNYW5pZmVzdChjYWxsYmFjaykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbiBcdFx0aWYodHlwZW9mIFhNTEh0dHBSZXF1ZXN0ID09PSBcInVuZGVmaW5lZFwiKVxyXG4gXHRcdFx0cmV0dXJuIGNhbGxiYWNrKG5ldyBFcnJvcihcIk5vIGJyb3dzZXIgc3VwcG9ydFwiKSk7XHJcbiBcdFx0dHJ5IHtcclxuIFx0XHRcdHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiBcdFx0XHR2YXIgcmVxdWVzdFBhdGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcIlwiICsgaG90Q3VycmVudEhhc2ggKyBcIi5ob3QtdXBkYXRlLmpzb25cIjtcclxuIFx0XHRcdHJlcXVlc3Qub3BlbihcIkdFVFwiLCByZXF1ZXN0UGF0aCwgdHJ1ZSk7XHJcbiBcdFx0XHRyZXF1ZXN0LnRpbWVvdXQgPSAxMDAwMDtcclxuIFx0XHRcdHJlcXVlc3Quc2VuZChudWxsKTtcclxuIFx0XHR9IGNhdGNoKGVycikge1xyXG4gXHRcdFx0cmV0dXJuIGNhbGxiYWNrKGVycik7XHJcbiBcdFx0fVxyXG4gXHRcdHJlcXVlc3Qub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XHJcbiBcdFx0XHRpZihyZXF1ZXN0LnJlYWR5U3RhdGUgIT09IDQpIHJldHVybjtcclxuIFx0XHRcdGlmKHJlcXVlc3Quc3RhdHVzID09PSAwKSB7XHJcbiBcdFx0XHRcdC8vIHRpbWVvdXRcclxuIFx0XHRcdFx0Y2FsbGJhY2sobmV3IEVycm9yKFwiTWFuaWZlc3QgcmVxdWVzdCB0byBcIiArIHJlcXVlc3RQYXRoICsgXCIgdGltZWQgb3V0LlwiKSk7XHJcbiBcdFx0XHR9IGVsc2UgaWYocmVxdWVzdC5zdGF0dXMgPT09IDQwNCkge1xyXG4gXHRcdFx0XHQvLyBubyB1cGRhdGUgYXZhaWxhYmxlXHJcbiBcdFx0XHRcdGNhbGxiYWNrKCk7XHJcbiBcdFx0XHR9IGVsc2UgaWYocmVxdWVzdC5zdGF0dXMgIT09IDIwMCAmJiByZXF1ZXN0LnN0YXR1cyAhPT0gMzA0KSB7XHJcbiBcdFx0XHRcdC8vIG90aGVyIGZhaWx1cmVcclxuIFx0XHRcdFx0Y2FsbGJhY2sobmV3IEVycm9yKFwiTWFuaWZlc3QgcmVxdWVzdCB0byBcIiArIHJlcXVlc3RQYXRoICsgXCIgZmFpbGVkLlwiKSk7XHJcbiBcdFx0XHR9IGVsc2Uge1xyXG4gXHRcdFx0XHQvLyBzdWNjZXNzXHJcbiBcdFx0XHRcdHRyeSB7XHJcbiBcdFx0XHRcdFx0dmFyIHVwZGF0ZSA9IEpTT04ucGFyc2UocmVxdWVzdC5yZXNwb25zZVRleHQpO1xyXG4gXHRcdFx0XHR9IGNhdGNoKGUpIHtcclxuIFx0XHRcdFx0XHRjYWxsYmFjayhlKTtcclxuIFx0XHRcdFx0XHRyZXR1cm47XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdFx0Y2FsbGJhY2sobnVsbCwgdXBkYXRlKTtcclxuIFx0XHRcdH1cclxuIFx0XHR9O1xyXG4gXHR9XHJcblxuIFx0XHJcbiBcdFxyXG4gXHQvLyBDb3BpZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvYmxvYi9iZWY0NWIwL3NyYy9zaGFyZWQvdXRpbHMvY2FuRGVmaW5lUHJvcGVydHkuanNcclxuIFx0dmFyIGNhbkRlZmluZVByb3BlcnR5ID0gZmFsc2U7XHJcbiBcdHRyeSB7XHJcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCBcInhcIiwge1xyXG4gXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHt9XHJcbiBcdFx0fSk7XHJcbiBcdFx0Y2FuRGVmaW5lUHJvcGVydHkgPSB0cnVlO1xyXG4gXHR9IGNhdGNoKHgpIHtcclxuIFx0XHQvLyBJRSB3aWxsIGZhaWwgb24gZGVmaW5lUHJvcGVydHlcclxuIFx0fVxyXG4gXHRcclxuIFx0dmFyIGhvdEFwcGx5T25VcGRhdGUgPSB0cnVlO1xyXG4gXHR2YXIgaG90Q3VycmVudEhhc2ggPSBcIjZmMjRjM2E5YjQ2MzA0Y2QyOTQyXCI7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0dmFyIGhvdEN1cnJlbnRNb2R1bGVEYXRhID0ge307XHJcbiBcdHZhciBob3RDdXJyZW50UGFyZW50cyA9IFtdOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbiBcdFxyXG4gXHRmdW5jdGlvbiBob3RDcmVhdGVSZXF1aXJlKG1vZHVsZUlkKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0XHR2YXIgbWUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuIFx0XHRpZighbWUpIHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fO1xyXG4gXHRcdHZhciBmbiA9IGZ1bmN0aW9uKHJlcXVlc3QpIHtcclxuIFx0XHRcdGlmKG1lLmhvdC5hY3RpdmUpIHtcclxuIFx0XHRcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XSkge1xyXG4gXHRcdFx0XHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbcmVxdWVzdF0ucGFyZW50cy5pbmRleE9mKG1vZHVsZUlkKSA8IDApXHJcbiBcdFx0XHRcdFx0XHRpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdLnBhcmVudHMucHVzaChtb2R1bGVJZCk7XHJcbiBcdFx0XHRcdFx0aWYobWUuY2hpbGRyZW4uaW5kZXhPZihyZXF1ZXN0KSA8IDApXHJcbiBcdFx0XHRcdFx0XHRtZS5jaGlsZHJlbi5wdXNoKHJlcXVlc3QpO1xyXG4gXHRcdFx0XHR9IGVsc2UgaG90Q3VycmVudFBhcmVudHMgPSBbbW9kdWxlSWRdO1xyXG4gXHRcdFx0fSBlbHNlIHtcclxuIFx0XHRcdFx0Y29uc29sZS53YXJuKFwiW0hNUl0gdW5leHBlY3RlZCByZXF1aXJlKFwiICsgcmVxdWVzdCArIFwiKSBmcm9tIGRpc3Bvc2VkIG1vZHVsZSBcIiArIG1vZHVsZUlkKTtcclxuIFx0XHRcdFx0aG90Q3VycmVudFBhcmVudHMgPSBbXTtcclxuIFx0XHRcdH1cclxuIFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKHJlcXVlc3QpO1xyXG4gXHRcdH07XHJcbiBcdFx0Zm9yKHZhciBuYW1lIGluIF9fd2VicGFja19yZXF1aXJlX18pIHtcclxuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChfX3dlYnBhY2tfcmVxdWlyZV9fLCBuYW1lKSkge1xyXG4gXHRcdFx0XHRpZihjYW5EZWZpbmVQcm9wZXJ0eSkge1xyXG4gXHRcdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgbmFtZSwgKGZ1bmN0aW9uKG5hbWUpIHtcclxuIFx0XHRcdFx0XHRcdHJldHVybiB7XHJcbiBcdFx0XHRcdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuIFx0XHRcdFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcclxuIFx0XHRcdFx0XHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcclxuIFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfX1tuYW1lXTtcclxuIFx0XHRcdFx0XHRcdFx0fSxcclxuIFx0XHRcdFx0XHRcdFx0c2V0OiBmdW5jdGlvbih2YWx1ZSkge1xyXG4gXHRcdFx0XHRcdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX19bbmFtZV0gPSB2YWx1ZTtcclxuIFx0XHRcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRcdFx0fTtcclxuIFx0XHRcdFx0XHR9KG5hbWUpKSk7XHJcbiBcdFx0XHRcdH0gZWxzZSB7XHJcbiBcdFx0XHRcdFx0Zm5bbmFtZV0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fW25hbWVdO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHRmdW5jdGlvbiBlbnN1cmUoY2h1bmtJZCwgY2FsbGJhY2spIHtcclxuIFx0XHRcdGlmKGhvdFN0YXR1cyA9PT0gXCJyZWFkeVwiKVxyXG4gXHRcdFx0XHRob3RTZXRTdGF0dXMoXCJwcmVwYXJlXCIpO1xyXG4gXHRcdFx0aG90Q2h1bmtzTG9hZGluZysrO1xyXG4gXHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5lKGNodW5rSWQsIGZ1bmN0aW9uKCkge1xyXG4gXHRcdFx0XHR0cnkge1xyXG4gXHRcdFx0XHRcdGNhbGxiYWNrLmNhbGwobnVsbCwgZm4pO1xyXG4gXHRcdFx0XHR9IGZpbmFsbHkge1xyXG4gXHRcdFx0XHRcdGZpbmlzaENodW5rTG9hZGluZygpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFxyXG4gXHRcdFx0XHRmdW5jdGlvbiBmaW5pc2hDaHVua0xvYWRpbmcoKSB7XHJcbiBcdFx0XHRcdFx0aG90Q2h1bmtzTG9hZGluZy0tO1xyXG4gXHRcdFx0XHRcdGlmKGhvdFN0YXR1cyA9PT0gXCJwcmVwYXJlXCIpIHtcclxuIFx0XHRcdFx0XHRcdGlmKCFob3RXYWl0aW5nRmlsZXNNYXBbY2h1bmtJZF0pIHtcclxuIFx0XHRcdFx0XHRcdFx0aG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XHJcbiBcdFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdFx0XHRpZihob3RDaHVua3NMb2FkaW5nID09PSAwICYmIGhvdFdhaXRpbmdGaWxlcyA9PT0gMCkge1xyXG4gXHRcdFx0XHRcdFx0XHRob3RVcGRhdGVEb3dubG9hZGVkKCk7XHJcbiBcdFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9KTtcclxuIFx0XHR9XHJcbiBcdFx0aWYoY2FuRGVmaW5lUHJvcGVydHkpIHtcclxuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgXCJlXCIsIHtcclxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcclxuIFx0XHRcdFx0dmFsdWU6IGVuc3VyZVxyXG4gXHRcdFx0fSk7XHJcbiBcdFx0fSBlbHNlIHtcclxuIFx0XHRcdGZuLmUgPSBlbnN1cmU7XHJcbiBcdFx0fVxyXG4gXHRcdHJldHVybiBmbjtcclxuIFx0fVxyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90Q3JlYXRlTW9kdWxlKG1vZHVsZUlkKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0XHR2YXIgaG90ID0ge1xyXG4gXHRcdFx0Ly8gcHJpdmF0ZSBzdHVmZlxyXG4gXHRcdFx0X2FjY2VwdGVkRGVwZW5kZW5jaWVzOiB7fSxcclxuIFx0XHRcdF9kZWNsaW5lZERlcGVuZGVuY2llczoge30sXHJcbiBcdFx0XHRfc2VsZkFjY2VwdGVkOiBmYWxzZSxcclxuIFx0XHRcdF9zZWxmRGVjbGluZWQ6IGZhbHNlLFxyXG4gXHRcdFx0X2Rpc3Bvc2VIYW5kbGVyczogW10sXHJcbiBcdFxyXG4gXHRcdFx0Ly8gTW9kdWxlIEFQSVxyXG4gXHRcdFx0YWN0aXZlOiB0cnVlLFxyXG4gXHRcdFx0YWNjZXB0OiBmdW5jdGlvbihkZXAsIGNhbGxiYWNrKSB7XHJcbiBcdFx0XHRcdGlmKHR5cGVvZiBkZXAgPT09IFwidW5kZWZpbmVkXCIpXHJcbiBcdFx0XHRcdFx0aG90Ll9zZWxmQWNjZXB0ZWQgPSB0cnVlO1xyXG4gXHRcdFx0XHRlbHNlIGlmKHR5cGVvZiBkZXAgPT09IFwiZnVuY3Rpb25cIilcclxuIFx0XHRcdFx0XHRob3QuX3NlbGZBY2NlcHRlZCA9IGRlcDtcclxuIFx0XHRcdFx0ZWxzZSBpZih0eXBlb2YgZGVwID09PSBcIm9iamVjdFwiKVxyXG4gXHRcdFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBkZXAubGVuZ3RoOyBpKyspXHJcbiBcdFx0XHRcdFx0XHRob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcFtpXV0gPSBjYWxsYmFjaztcclxuIFx0XHRcdFx0ZWxzZVxyXG4gXHRcdFx0XHRcdGhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwXSA9IGNhbGxiYWNrO1xyXG4gXHRcdFx0fSxcclxuIFx0XHRcdGRlY2xpbmU6IGZ1bmN0aW9uKGRlcCkge1xyXG4gXHRcdFx0XHRpZih0eXBlb2YgZGVwID09PSBcInVuZGVmaW5lZFwiKVxyXG4gXHRcdFx0XHRcdGhvdC5fc2VsZkRlY2xpbmVkID0gdHJ1ZTtcclxuIFx0XHRcdFx0ZWxzZSBpZih0eXBlb2YgZGVwID09PSBcIm51bWJlclwiKVxyXG4gXHRcdFx0XHRcdGhvdC5fZGVjbGluZWREZXBlbmRlbmNpZXNbZGVwXSA9IHRydWU7XHJcbiBcdFx0XHRcdGVsc2VcclxuIFx0XHRcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgZGVwLmxlbmd0aDsgaSsrKVxyXG4gXHRcdFx0XHRcdFx0aG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1tkZXBbaV1dID0gdHJ1ZTtcclxuIFx0XHRcdH0sXHJcbiBcdFx0XHRkaXNwb3NlOiBmdW5jdGlvbihjYWxsYmFjaykge1xyXG4gXHRcdFx0XHRob3QuX2Rpc3Bvc2VIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTtcclxuIFx0XHRcdH0sXHJcbiBcdFx0XHRhZGREaXNwb3NlSGFuZGxlcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuIFx0XHRcdFx0aG90Ll9kaXNwb3NlSGFuZGxlcnMucHVzaChjYWxsYmFjayk7XHJcbiBcdFx0XHR9LFxyXG4gXHRcdFx0cmVtb3ZlRGlzcG9zZUhhbmRsZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcbiBcdFx0XHRcdHZhciBpZHggPSBob3QuX2Rpc3Bvc2VIYW5kbGVycy5pbmRleE9mKGNhbGxiYWNrKTtcclxuIFx0XHRcdFx0aWYoaWR4ID49IDApIGhvdC5fZGlzcG9zZUhhbmRsZXJzLnNwbGljZShpZHgsIDEpO1xyXG4gXHRcdFx0fSxcclxuIFx0XHJcbiBcdFx0XHQvLyBNYW5hZ2VtZW50IEFQSVxyXG4gXHRcdFx0Y2hlY2s6IGhvdENoZWNrLFxyXG4gXHRcdFx0YXBwbHk6IGhvdEFwcGx5LFxyXG4gXHRcdFx0c3RhdHVzOiBmdW5jdGlvbihsKSB7XHJcbiBcdFx0XHRcdGlmKCFsKSByZXR1cm4gaG90U3RhdHVzO1xyXG4gXHRcdFx0XHRob3RTdGF0dXNIYW5kbGVycy5wdXNoKGwpO1xyXG4gXHRcdFx0fSxcclxuIFx0XHRcdGFkZFN0YXR1c0hhbmRsZXI6IGZ1bmN0aW9uKGwpIHtcclxuIFx0XHRcdFx0aG90U3RhdHVzSGFuZGxlcnMucHVzaChsKTtcclxuIFx0XHRcdH0sXHJcbiBcdFx0XHRyZW1vdmVTdGF0dXNIYW5kbGVyOiBmdW5jdGlvbihsKSB7XHJcbiBcdFx0XHRcdHZhciBpZHggPSBob3RTdGF0dXNIYW5kbGVycy5pbmRleE9mKGwpO1xyXG4gXHRcdFx0XHRpZihpZHggPj0gMCkgaG90U3RhdHVzSGFuZGxlcnMuc3BsaWNlKGlkeCwgMSk7XHJcbiBcdFx0XHR9LFxyXG4gXHRcclxuIFx0XHRcdC8vaW5oZXJpdCBmcm9tIHByZXZpb3VzIGRpc3Bvc2UgY2FsbFxyXG4gXHRcdFx0ZGF0YTogaG90Q3VycmVudE1vZHVsZURhdGFbbW9kdWxlSWRdXHJcbiBcdFx0fTtcclxuIFx0XHRyZXR1cm4gaG90O1xyXG4gXHR9XHJcbiBcdFxyXG4gXHR2YXIgaG90U3RhdHVzSGFuZGxlcnMgPSBbXTtcclxuIFx0dmFyIGhvdFN0YXR1cyA9IFwiaWRsZVwiO1xyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90U2V0U3RhdHVzKG5ld1N0YXR1cykge1xyXG4gXHRcdGhvdFN0YXR1cyA9IG5ld1N0YXR1cztcclxuIFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgaG90U3RhdHVzSGFuZGxlcnMubGVuZ3RoOyBpKyspXHJcbiBcdFx0XHRob3RTdGF0dXNIYW5kbGVyc1tpXS5jYWxsKG51bGwsIG5ld1N0YXR1cyk7XHJcbiBcdH1cclxuIFx0XHJcbiBcdC8vIHdoaWxlIGRvd25sb2FkaW5nXHJcbiBcdHZhciBob3RXYWl0aW5nRmlsZXMgPSAwO1xyXG4gXHR2YXIgaG90Q2h1bmtzTG9hZGluZyA9IDA7XHJcbiBcdHZhciBob3RXYWl0aW5nRmlsZXNNYXAgPSB7fTtcclxuIFx0dmFyIGhvdFJlcXVlc3RlZEZpbGVzTWFwID0ge307XHJcbiBcdHZhciBob3RBdmFpbGlibGVGaWxlc01hcCA9IHt9O1xyXG4gXHR2YXIgaG90Q2FsbGJhY2s7XHJcbiBcdFxyXG4gXHQvLyBUaGUgdXBkYXRlIGluZm9cclxuIFx0dmFyIGhvdFVwZGF0ZSwgaG90VXBkYXRlTmV3SGFzaDtcclxuIFx0XHJcbiBcdGZ1bmN0aW9uIHRvTW9kdWxlSWQoaWQpIHtcclxuIFx0XHR2YXIgaXNOdW1iZXIgPSAoK2lkKSArIFwiXCIgPT09IGlkO1xyXG4gXHRcdHJldHVybiBpc051bWJlciA/ICtpZCA6IGlkO1xyXG4gXHR9XHJcbiBcdFxyXG4gXHRmdW5jdGlvbiBob3RDaGVjayhhcHBseSwgY2FsbGJhY2spIHtcclxuIFx0XHRpZihob3RTdGF0dXMgIT09IFwiaWRsZVwiKSB0aHJvdyBuZXcgRXJyb3IoXCJjaGVjaygpIGlzIG9ubHkgYWxsb3dlZCBpbiBpZGxlIHN0YXR1c1wiKTtcclxuIFx0XHRpZih0eXBlb2YgYXBwbHkgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gXHRcdFx0aG90QXBwbHlPblVwZGF0ZSA9IGZhbHNlO1xyXG4gXHRcdFx0Y2FsbGJhY2sgPSBhcHBseTtcclxuIFx0XHR9IGVsc2Uge1xyXG4gXHRcdFx0aG90QXBwbHlPblVwZGF0ZSA9IGFwcGx5O1xyXG4gXHRcdFx0Y2FsbGJhY2sgPSBjYWxsYmFjayB8fCBmdW5jdGlvbihlcnIpIHtcclxuIFx0XHRcdFx0aWYoZXJyKSB0aHJvdyBlcnI7XHJcbiBcdFx0XHR9O1xyXG4gXHRcdH1cclxuIFx0XHRob3RTZXRTdGF0dXMoXCJjaGVja1wiKTtcclxuIFx0XHRob3REb3dubG9hZE1hbmlmZXN0KGZ1bmN0aW9uKGVyciwgdXBkYXRlKSB7XHJcbiBcdFx0XHRpZihlcnIpIHJldHVybiBjYWxsYmFjayhlcnIpO1xyXG4gXHRcdFx0aWYoIXVwZGF0ZSkge1xyXG4gXHRcdFx0XHRob3RTZXRTdGF0dXMoXCJpZGxlXCIpO1xyXG4gXHRcdFx0XHRjYWxsYmFjayhudWxsLCBudWxsKTtcclxuIFx0XHRcdFx0cmV0dXJuO1xyXG4gXHRcdFx0fVxyXG4gXHRcclxuIFx0XHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwID0ge307XHJcbiBcdFx0XHRob3RBdmFpbGlibGVGaWxlc01hcCA9IHt9O1xyXG4gXHRcdFx0aG90V2FpdGluZ0ZpbGVzTWFwID0ge307XHJcbiBcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdXBkYXRlLmMubGVuZ3RoOyBpKyspXHJcbiBcdFx0XHRcdGhvdEF2YWlsaWJsZUZpbGVzTWFwW3VwZGF0ZS5jW2ldXSA9IHRydWU7XHJcbiBcdFx0XHRob3RVcGRhdGVOZXdIYXNoID0gdXBkYXRlLmg7XHJcbiBcdFxyXG4gXHRcdFx0aG90U2V0U3RhdHVzKFwicHJlcGFyZVwiKTtcclxuIFx0XHRcdGhvdENhbGxiYWNrID0gY2FsbGJhY2s7XHJcbiBcdFx0XHRob3RVcGRhdGUgPSB7fTtcclxuIFx0XHRcdHZhciBjaHVua0lkID0gMDtcclxuIFx0XHRcdHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1sb25lLWJsb2Nrc1xyXG4gXHRcdFx0XHQvKmdsb2JhbHMgY2h1bmtJZCAqL1xyXG4gXHRcdFx0XHRob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKTtcclxuIFx0XHRcdH1cclxuIFx0XHRcdGlmKGhvdFN0YXR1cyA9PT0gXCJwcmVwYXJlXCIgJiYgaG90Q2h1bmtzTG9hZGluZyA9PT0gMCAmJiBob3RXYWl0aW5nRmlsZXMgPT09IDApIHtcclxuIFx0XHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xyXG4gXHRcdFx0fVxyXG4gXHRcdH0pO1xyXG4gXHR9XHJcbiBcdFxyXG4gXHRmdW5jdGlvbiBob3RBZGRVcGRhdGVDaHVuayhjaHVua0lkLCBtb3JlTW9kdWxlcykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbiBcdFx0aWYoIWhvdEF2YWlsaWJsZUZpbGVzTWFwW2NodW5rSWRdIHx8ICFob3RSZXF1ZXN0ZWRGaWxlc01hcFtjaHVua0lkXSlcclxuIFx0XHRcdHJldHVybjtcclxuIFx0XHRob3RSZXF1ZXN0ZWRGaWxlc01hcFtjaHVua0lkXSA9IGZhbHNlO1xyXG4gXHRcdGZvcih2YXIgbW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcclxuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XHJcbiBcdFx0XHRcdGhvdFVwZGF0ZVttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcdGlmKC0taG90V2FpdGluZ0ZpbGVzID09PSAwICYmIGhvdENodW5rc0xvYWRpbmcgPT09IDApIHtcclxuIFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcclxuIFx0XHR9XHJcbiBcdH1cclxuIFx0XHJcbiBcdGZ1bmN0aW9uIGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpIHtcclxuIFx0XHRpZighaG90QXZhaWxpYmxlRmlsZXNNYXBbY2h1bmtJZF0pIHtcclxuIFx0XHRcdGhvdFdhaXRpbmdGaWxlc01hcFtjaHVua0lkXSA9IHRydWU7XHJcbiBcdFx0fSBlbHNlIHtcclxuIFx0XHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdID0gdHJ1ZTtcclxuIFx0XHRcdGhvdFdhaXRpbmdGaWxlcysrO1xyXG4gXHRcdFx0aG90RG93bmxvYWRVcGRhdGVDaHVuayhjaHVua0lkKTtcclxuIFx0XHR9XHJcbiBcdH1cclxuIFx0XHJcbiBcdGZ1bmN0aW9uIGhvdFVwZGF0ZURvd25sb2FkZWQoKSB7XHJcbiBcdFx0aG90U2V0U3RhdHVzKFwicmVhZHlcIik7XHJcbiBcdFx0dmFyIGNhbGxiYWNrID0gaG90Q2FsbGJhY2s7XHJcbiBcdFx0aG90Q2FsbGJhY2sgPSBudWxsO1xyXG4gXHRcdGlmKCFjYWxsYmFjaykgcmV0dXJuO1xyXG4gXHRcdGlmKGhvdEFwcGx5T25VcGRhdGUpIHtcclxuIFx0XHRcdGhvdEFwcGx5KGhvdEFwcGx5T25VcGRhdGUsIGNhbGxiYWNrKTtcclxuIFx0XHR9IGVsc2Uge1xyXG4gXHRcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFtdO1xyXG4gXHRcdFx0Zm9yKHZhciBpZCBpbiBob3RVcGRhdGUpIHtcclxuIFx0XHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGhvdFVwZGF0ZSwgaWQpKSB7XHJcbiBcdFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzLnB1c2godG9Nb2R1bGVJZChpZCkpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9XHJcbiBcdFx0XHRjYWxsYmFjayhudWxsLCBvdXRkYXRlZE1vZHVsZXMpO1xyXG4gXHRcdH1cclxuIFx0fVxyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90QXBwbHkob3B0aW9ucywgY2FsbGJhY2spIHtcclxuIFx0XHRpZihob3RTdGF0dXMgIT09IFwicmVhZHlcIikgdGhyb3cgbmV3IEVycm9yKFwiYXBwbHkoKSBpcyBvbmx5IGFsbG93ZWQgaW4gcmVhZHkgc3RhdHVzXCIpO1xyXG4gXHRcdGlmKHR5cGVvZiBvcHRpb25zID09PSBcImZ1bmN0aW9uXCIpIHtcclxuIFx0XHRcdGNhbGxiYWNrID0gb3B0aW9ucztcclxuIFx0XHRcdG9wdGlvbnMgPSB7fTtcclxuIFx0XHR9IGVsc2UgaWYob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJvYmplY3RcIikge1xyXG4gXHRcdFx0Y2FsbGJhY2sgPSBjYWxsYmFjayB8fCBmdW5jdGlvbihlcnIpIHtcclxuIFx0XHRcdFx0aWYoZXJyKSB0aHJvdyBlcnI7XHJcbiBcdFx0XHR9O1xyXG4gXHRcdH0gZWxzZSB7XHJcbiBcdFx0XHRvcHRpb25zID0ge307XHJcbiBcdFx0XHRjYWxsYmFjayA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uKGVycikge1xyXG4gXHRcdFx0XHRpZihlcnIpIHRocm93IGVycjtcclxuIFx0XHRcdH07XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHRmdW5jdGlvbiBnZXRBZmZlY3RlZFN0dWZmKG1vZHVsZSkge1xyXG4gXHRcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFttb2R1bGVdO1xyXG4gXHRcdFx0dmFyIG91dGRhdGVkRGVwZW5kZW5jaWVzID0ge307XHJcbiBcdFxyXG4gXHRcdFx0dmFyIHF1ZXVlID0gb3V0ZGF0ZWRNb2R1bGVzLnNsaWNlKCk7XHJcbiBcdFx0XHR3aGlsZShxdWV1ZS5sZW5ndGggPiAwKSB7XHJcbiBcdFx0XHRcdHZhciBtb2R1bGVJZCA9IHF1ZXVlLnBvcCgpO1xyXG4gXHRcdFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbiBcdFx0XHRcdGlmKCFtb2R1bGUgfHwgbW9kdWxlLmhvdC5fc2VsZkFjY2VwdGVkKVxyXG4gXHRcdFx0XHRcdGNvbnRpbnVlO1xyXG4gXHRcdFx0XHRpZihtb2R1bGUuaG90Ll9zZWxmRGVjbGluZWQpIHtcclxuIFx0XHRcdFx0XHRyZXR1cm4gbmV3IEVycm9yKFwiQWJvcnRlZCBiZWNhdXNlIG9mIHNlbGYgZGVjbGluZTogXCIgKyBtb2R1bGVJZCk7XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdFx0aWYobW9kdWxlSWQgPT09IDApIHtcclxuIFx0XHRcdFx0XHRyZXR1cm47XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IG1vZHVsZS5wYXJlbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiBcdFx0XHRcdFx0dmFyIHBhcmVudElkID0gbW9kdWxlLnBhcmVudHNbaV07XHJcbiBcdFx0XHRcdFx0dmFyIHBhcmVudCA9IGluc3RhbGxlZE1vZHVsZXNbcGFyZW50SWRdO1xyXG4gXHRcdFx0XHRcdGlmKHBhcmVudC5ob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSkge1xyXG4gXHRcdFx0XHRcdFx0cmV0dXJuIG5ldyBFcnJvcihcIkFib3J0ZWQgYmVjYXVzZSBvZiBkZWNsaW5lZCBkZXBlbmRlbmN5OiBcIiArIG1vZHVsZUlkICsgXCIgaW4gXCIgKyBwYXJlbnRJZCk7XHJcbiBcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRcdGlmKG91dGRhdGVkTW9kdWxlcy5pbmRleE9mKHBhcmVudElkKSA+PSAwKSBjb250aW51ZTtcclxuIFx0XHRcdFx0XHRpZihwYXJlbnQuaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pIHtcclxuIFx0XHRcdFx0XHRcdGlmKCFvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF0pXHJcbiBcdFx0XHRcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSA9IFtdO1xyXG4gXHRcdFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdLCBbbW9kdWxlSWRdKTtcclxuIFx0XHRcdFx0XHRcdGNvbnRpbnVlO1xyXG4gXHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0XHRkZWxldGUgb3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdO1xyXG4gXHRcdFx0XHRcdG91dGRhdGVkTW9kdWxlcy5wdXNoKHBhcmVudElkKTtcclxuIFx0XHRcdFx0XHRxdWV1ZS5wdXNoKHBhcmVudElkKTtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0fVxyXG4gXHRcclxuIFx0XHRcdHJldHVybiBbb3V0ZGF0ZWRNb2R1bGVzLCBvdXRkYXRlZERlcGVuZGVuY2llc107XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHRmdW5jdGlvbiBhZGRBbGxUb1NldChhLCBiKSB7XHJcbiBcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkrKykge1xyXG4gXHRcdFx0XHR2YXIgaXRlbSA9IGJbaV07XHJcbiBcdFx0XHRcdGlmKGEuaW5kZXhPZihpdGVtKSA8IDApXHJcbiBcdFx0XHRcdFx0YS5wdXNoKGl0ZW0pO1xyXG4gXHRcdFx0fVxyXG4gXHRcdH1cclxuIFx0XHJcbiBcdFx0Ly8gYXQgYmVnaW4gYWxsIHVwZGF0ZXMgbW9kdWxlcyBhcmUgb3V0ZGF0ZWRcclxuIFx0XHQvLyB0aGUgXCJvdXRkYXRlZFwiIHN0YXR1cyBjYW4gcHJvcGFnYXRlIHRvIHBhcmVudHMgaWYgdGhleSBkb24ndCBhY2NlcHQgdGhlIGNoaWxkcmVuXHJcbiBcdFx0dmFyIG91dGRhdGVkRGVwZW5kZW5jaWVzID0ge307XHJcbiBcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFtdO1xyXG4gXHRcdHZhciBhcHBsaWVkVXBkYXRlID0ge307XHJcbiBcdFx0Zm9yKHZhciBpZCBpbiBob3RVcGRhdGUpIHtcclxuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChob3RVcGRhdGUsIGlkKSkge1xyXG4gXHRcdFx0XHR2YXIgbW9kdWxlSWQgPSB0b01vZHVsZUlkKGlkKTtcclxuIFx0XHRcdFx0dmFyIHJlc3VsdCA9IGdldEFmZmVjdGVkU3R1ZmYobW9kdWxlSWQpO1xyXG4gXHRcdFx0XHRpZighcmVzdWx0KSB7XHJcbiBcdFx0XHRcdFx0aWYob3B0aW9ucy5pZ25vcmVVbmFjY2VwdGVkKVxyXG4gXHRcdFx0XHRcdFx0Y29udGludWU7XHJcbiBcdFx0XHRcdFx0aG90U2V0U3RhdHVzKFwiYWJvcnRcIik7XHJcbiBcdFx0XHRcdFx0cmV0dXJuIGNhbGxiYWNrKG5ldyBFcnJvcihcIkFib3J0ZWQgYmVjYXVzZSBcIiArIG1vZHVsZUlkICsgXCIgaXMgbm90IGFjY2VwdGVkXCIpKTtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRpZihyZXN1bHQgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gXHRcdFx0XHRcdGhvdFNldFN0YXR1cyhcImFib3J0XCIpO1xyXG4gXHRcdFx0XHRcdHJldHVybiBjYWxsYmFjayhyZXN1bHQpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHRcdGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdID0gaG90VXBkYXRlW21vZHVsZUlkXTtcclxuIFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWRNb2R1bGVzLCByZXN1bHRbMF0pO1xyXG4gXHRcdFx0XHRmb3IodmFyIG1vZHVsZUlkIGluIHJlc3VsdFsxXSkge1xyXG4gXHRcdFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyZXN1bHRbMV0sIG1vZHVsZUlkKSkge1xyXG4gXHRcdFx0XHRcdFx0aWYoIW91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSlcclxuIFx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdID0gW107XHJcbiBcdFx0XHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0sIHJlc3VsdFsxXVttb2R1bGVJZF0pO1xyXG4gXHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0fVxyXG4gXHRcdH1cclxuIFx0XHJcbiBcdFx0Ly8gU3RvcmUgc2VsZiBhY2NlcHRlZCBvdXRkYXRlZCBtb2R1bGVzIHRvIHJlcXVpcmUgdGhlbSBsYXRlciBieSB0aGUgbW9kdWxlIHN5c3RlbVxyXG4gXHRcdHZhciBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMgPSBbXTtcclxuIFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgb3V0ZGF0ZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XHJcbiBcdFx0XHR2YXIgbW9kdWxlSWQgPSBvdXRkYXRlZE1vZHVsZXNbaV07XHJcbiBcdFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSAmJiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZClcclxuIFx0XHRcdFx0b3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzLnB1c2goe1xyXG4gXHRcdFx0XHRcdG1vZHVsZTogbW9kdWxlSWQsXHJcbiBcdFx0XHRcdFx0ZXJyb3JIYW5kbGVyOiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZFxyXG4gXHRcdFx0XHR9KTtcclxuIFx0XHR9XHJcbiBcdFxyXG4gXHRcdC8vIE5vdyBpbiBcImRpc3Bvc2VcIiBwaGFzZVxyXG4gXHRcdGhvdFNldFN0YXR1cyhcImRpc3Bvc2VcIik7XHJcbiBcdFx0dmFyIHF1ZXVlID0gb3V0ZGF0ZWRNb2R1bGVzLnNsaWNlKCk7XHJcbiBcdFx0d2hpbGUocXVldWUubGVuZ3RoID4gMCkge1xyXG4gXHRcdFx0dmFyIG1vZHVsZUlkID0gcXVldWUucG9wKCk7XHJcbiBcdFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbiBcdFx0XHRpZighbW9kdWxlKSBjb250aW51ZTtcclxuIFx0XHJcbiBcdFx0XHR2YXIgZGF0YSA9IHt9O1xyXG4gXHRcclxuIFx0XHRcdC8vIENhbGwgZGlzcG9zZSBoYW5kbGVyc1xyXG4gXHRcdFx0dmFyIGRpc3Bvc2VIYW5kbGVycyA9IG1vZHVsZS5ob3QuX2Rpc3Bvc2VIYW5kbGVycztcclxuIFx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkaXNwb3NlSGFuZGxlcnMubGVuZ3RoOyBqKyspIHtcclxuIFx0XHRcdFx0dmFyIGNiID0gZGlzcG9zZUhhbmRsZXJzW2pdO1xyXG4gXHRcdFx0XHRjYihkYXRhKTtcclxuIFx0XHRcdH1cclxuIFx0XHRcdGhvdEN1cnJlbnRNb2R1bGVEYXRhW21vZHVsZUlkXSA9IGRhdGE7XHJcbiBcdFxyXG4gXHRcdFx0Ly8gZGlzYWJsZSBtb2R1bGUgKHRoaXMgZGlzYWJsZXMgcmVxdWlyZXMgZnJvbSB0aGlzIG1vZHVsZSlcclxuIFx0XHRcdG1vZHVsZS5ob3QuYWN0aXZlID0gZmFsc2U7XHJcbiBcdFxyXG4gXHRcdFx0Ly8gcmVtb3ZlIG1vZHVsZSBmcm9tIGNhY2hlXHJcbiBcdFx0XHRkZWxldGUgaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbiBcdFxyXG4gXHRcdFx0Ly8gcmVtb3ZlIFwicGFyZW50c1wiIHJlZmVyZW5jZXMgZnJvbSBhbGwgY2hpbGRyZW5cclxuIFx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBtb2R1bGUuY2hpbGRyZW4ubGVuZ3RoOyBqKyspIHtcclxuIFx0XHRcdFx0dmFyIGNoaWxkID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGUuY2hpbGRyZW5bal1dO1xyXG4gXHRcdFx0XHRpZighY2hpbGQpIGNvbnRpbnVlO1xyXG4gXHRcdFx0XHR2YXIgaWR4ID0gY2hpbGQucGFyZW50cy5pbmRleE9mKG1vZHVsZUlkKTtcclxuIFx0XHRcdFx0aWYoaWR4ID49IDApIHtcclxuIFx0XHRcdFx0XHRjaGlsZC5wYXJlbnRzLnNwbGljZShpZHgsIDEpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHQvLyByZW1vdmUgb3V0ZGF0ZWQgZGVwZW5kZW5jeSBmcm9tIG1vZHVsZSBjaGlsZHJlblxyXG4gXHRcdGZvcih2YXIgbW9kdWxlSWQgaW4gb3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcclxuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvdXRkYXRlZERlcGVuZGVuY2llcywgbW9kdWxlSWQpKSB7XHJcbiBcdFx0XHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuIFx0XHRcdFx0dmFyIG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzID0gb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xyXG4gXHRcdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMubGVuZ3RoOyBqKyspIHtcclxuIFx0XHRcdFx0XHR2YXIgZGVwZW5kZW5jeSA9IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2pdO1xyXG4gXHRcdFx0XHRcdHZhciBpZHggPSBtb2R1bGUuY2hpbGRyZW4uaW5kZXhPZihkZXBlbmRlbmN5KTtcclxuIFx0XHRcdFx0XHRpZihpZHggPj0gMCkgbW9kdWxlLmNoaWxkcmVuLnNwbGljZShpZHgsIDEpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHQvLyBOb3QgaW4gXCJhcHBseVwiIHBoYXNlXHJcbiBcdFx0aG90U2V0U3RhdHVzKFwiYXBwbHlcIik7XHJcbiBcdFxyXG4gXHRcdGhvdEN1cnJlbnRIYXNoID0gaG90VXBkYXRlTmV3SGFzaDtcclxuIFx0XHJcbiBcdFx0Ly8gaW5zZXJ0IG5ldyBjb2RlXHJcbiBcdFx0Zm9yKHZhciBtb2R1bGVJZCBpbiBhcHBsaWVkVXBkYXRlKSB7XHJcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYXBwbGllZFVwZGF0ZSwgbW9kdWxlSWQpKSB7XHJcbiBcdFx0XHRcdG1vZHVsZXNbbW9kdWxlSWRdID0gYXBwbGllZFVwZGF0ZVttb2R1bGVJZF07XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHQvLyBjYWxsIGFjY2VwdCBoYW5kbGVyc1xyXG4gXHRcdHZhciBlcnJvciA9IG51bGw7XHJcbiBcdFx0Zm9yKHZhciBtb2R1bGVJZCBpbiBvdXRkYXRlZERlcGVuZGVuY2llcykge1xyXG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG91dGRhdGVkRGVwZW5kZW5jaWVzLCBtb2R1bGVJZCkpIHtcclxuIFx0XHRcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xyXG4gXHRcdFx0XHR2YXIgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSBvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF07XHJcbiBcdFx0XHRcdHZhciBjYWxsYmFja3MgPSBbXTtcclxuIFx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzLmxlbmd0aDsgaSsrKSB7XHJcbiBcdFx0XHRcdFx0dmFyIGRlcGVuZGVuY3kgPSBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tpXTtcclxuIFx0XHRcdFx0XHR2YXIgY2IgPSBtb2R1bGUuaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBlbmRlbmN5XTtcclxuIFx0XHRcdFx0XHRpZihjYWxsYmFja3MuaW5kZXhPZihjYikgPj0gMCkgY29udGludWU7XHJcbiBcdFx0XHRcdFx0Y2FsbGJhY2tzLnB1c2goY2IpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyBpKyspIHtcclxuIFx0XHRcdFx0XHR2YXIgY2IgPSBjYWxsYmFja3NbaV07XHJcbiBcdFx0XHRcdFx0dHJ5IHtcclxuIFx0XHRcdFx0XHRcdGNiKG91dGRhdGVkRGVwZW5kZW5jaWVzKTtcclxuIFx0XHRcdFx0XHR9IGNhdGNoKGVycikge1xyXG4gXHRcdFx0XHRcdFx0aWYoIWVycm9yKVxyXG4gXHRcdFx0XHRcdFx0XHRlcnJvciA9IGVycjtcclxuIFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdH1cclxuIFx0XHR9XHJcbiBcdFxyXG4gXHRcdC8vIExvYWQgc2VsZiBhY2NlcHRlZCBtb2R1bGVzXHJcbiBcdFx0Zm9yKHZhciBpID0gMDsgaSA8IG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xyXG4gXHRcdFx0dmFyIGl0ZW0gPSBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXNbaV07XHJcbiBcdFx0XHR2YXIgbW9kdWxlSWQgPSBpdGVtLm1vZHVsZTtcclxuIFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW21vZHVsZUlkXTtcclxuIFx0XHRcdHRyeSB7XHJcbiBcdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpO1xyXG4gXHRcdFx0fSBjYXRjaChlcnIpIHtcclxuIFx0XHRcdFx0aWYodHlwZW9mIGl0ZW0uZXJyb3JIYW5kbGVyID09PSBcImZ1bmN0aW9uXCIpIHtcclxuIFx0XHRcdFx0XHR0cnkge1xyXG4gXHRcdFx0XHRcdFx0aXRlbS5lcnJvckhhbmRsZXIoZXJyKTtcclxuIFx0XHRcdFx0XHR9IGNhdGNoKGVycikge1xyXG4gXHRcdFx0XHRcdFx0aWYoIWVycm9yKVxyXG4gXHRcdFx0XHRcdFx0XHRlcnJvciA9IGVycjtcclxuIFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdH0gZWxzZSBpZighZXJyb3IpXHJcbiBcdFx0XHRcdFx0ZXJyb3IgPSBlcnI7XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHQvLyBoYW5kbGUgZXJyb3JzIGluIGFjY2VwdCBoYW5kbGVycyBhbmQgc2VsZiBhY2NlcHRlZCBtb2R1bGUgbG9hZFxyXG4gXHRcdGlmKGVycm9yKSB7XHJcbiBcdFx0XHRob3RTZXRTdGF0dXMoXCJmYWlsXCIpO1xyXG4gXHRcdFx0cmV0dXJuIGNhbGxiYWNrKGVycm9yKTtcclxuIFx0XHR9XHJcbiBcdFxyXG4gXHRcdGhvdFNldFN0YXR1cyhcImlkbGVcIik7XHJcbiBcdFx0Y2FsbGJhY2sobnVsbCwgb3V0ZGF0ZWRNb2R1bGVzKTtcclxuIFx0fVxyXG5cbiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRleHBvcnRzOiB7fSxcbiBcdFx0XHRpZDogbW9kdWxlSWQsXG4gXHRcdFx0bG9hZGVkOiBmYWxzZSxcbiBcdFx0XHRob3Q6IGhvdENyZWF0ZU1vZHVsZShtb2R1bGVJZCksXG4gXHRcdFx0cGFyZW50czogaG90Q3VycmVudFBhcmVudHMsXG4gXHRcdFx0Y2hpbGRyZW46IFtdXG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIGhvdENyZWF0ZVJlcXVpcmUobW9kdWxlSWQpKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9WUlB1enpsZS9wdWJsaWMvXCI7XG5cbiBcdC8vIF9fd2VicGFja19oYXNoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18uaCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gaG90Q3VycmVudEhhc2g7IH07XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIGhvdENyZWF0ZVJlcXVpcmUoMCkoMCk7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiB3ZWJwYWNrL2Jvb3RzdHJhcCA2ZjI0YzNhOWI0NjMwNGNkMjk0MlxuICoqLyIsImltcG9ydCBHYW1lIGZyb20gXCIuL2dhbWUuanNcIlxyXG5sZXQgZ2FtZSA9IG5ldyBHYW1lKClcclxuXHJcbmNvbnN0IGxvb3AgPSAoKT0+e1xyXG4gICAgZ2FtZS5yZW5kZXIoKVxyXG4gICAgLy8gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApXHJcbn1cclxubG9vcCgpXHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2phdmFzY3JpcHRzL2luZGV4LmpzXG4gKiovIiwiXHJcbmltcG9ydCBNb3VzZSBmcm9tIFwiLi9tb3VzZS5qc1wiXHJcbmltcG9ydCBzd2FsIGZyb20gXCJzd2VldGFsZXJ0XCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgLy8gQ3JlYXRlIGEgdGhyZWUuanMgc2NlbmUuXHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpXHJcblxyXG4gICAgICAgIC8vIENyZWF0ZSBhIHRocmVlLmpzIGNhbWVyYS5cclxuICAgICAgICB0aGlzLmNhbWVyYSA9IG5ldyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYSg3NSwgd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQsIDAuMSwgMTAwMDApXHJcblxyXG4gICAgICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnNldCgwLDEwLDApXHJcbiAgICAgICAgdGhpcy5jb250cm9scyA9IG5ldyBUSFJFRS5EZXZpY2VPcmllbnRhdGlvbkNvbnRyb2xzKCB0aGlzLmNhbWVyYSApO1xyXG5cclxuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoe1xyXG4gICAgICAgICAgICBhbnRpYWxpYXM6IHRydWVcclxuICAgICAgICB9KTtcclxuXHRcdHRoaXMucmVuZGVyZXIuc2V0UGl4ZWxSYXRpbyggd2luZG93LmRldmljZVBpeGVsUmF0aW8gKTtcclxuXHRcdHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcclxuXHRcdHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcblx0XHR0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQuc3R5bGUudG9wID0gMDtcclxuXHRcdGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcclxuXHJcbiAgICAgICAgLy8gcmF5Y2FzdGVyXHJcbiAgICAgICAgdGhpcy5yYXljYXN0ZXIgPSBuZXcgVEhSRUUuUmF5Y2FzdGVyKClcclxuICAgICAgICB0aGlzLm1vdXNlID0gbmV3IE1vdXNlKClcclxuICAgICAgICAgICAgLy9iaW5kIHRoaXNcclxuICAgICAgICB0aGlzLm9uVGV4dHVyZUxvYWRlZCA9IHRoaXMub25UZXh0dXJlTG9hZGVkLmJpbmQodGhpcylcclxuICAgICAgICB0aGlzLm9uUmVzaXplID0gdGhpcy5vblJlc2l6ZS5iaW5kKHRoaXMpXHJcbiAgICAgICAgdGhpcy5yZW5kZXIgPSB0aGlzLnJlbmRlci5iaW5kKHRoaXMpXHJcbiAgICAgICAgdGhpcy5wbGFjZVBpZWNlcyA9IHRoaXMucGxhY2VQaWVjZXMuYmluZCh0aGlzKVxyXG4gICAgICAgICAgICAvL1xyXG4gICAgICAgIHRoaXMubWVzaExpc3QgPSBbXVxyXG4gICAgICAgIHRoaXMubG9nRmxhZyA9IHRydWVcclxuICAgICAgICAgICAgLy8gQWRkIGEgcmVwZWF0aW5nIGdyaWQgYXMgYSBza3lib3guXHJcbiAgICAgICAgdGhpcy5ib3hTaXplID0gMzBcclxuICAgICAgICAvLyB0aGlzLmxvYWRlciA9IG5ldyBUSFJFRS5UZXh0dXJlTG9hZGVyKClcclxuICAgICAgICAvLyB0aGlzLmxvYWRlci5sb2FkKFwicHVibGljL2ltYWdlcy9ib3gucG5nXCIsIHRoaXMub25UZXh0dXJlTG9hZGVkKVxyXG4gICAgICAgIC8vIGxldCB0ZXh0dXJlID0gbmV3IFRIUkVFLlRleHR1cmUoKVxyXG4gICAgICAgIHRoaXMub25UZXh0dXJlTG9hZGVkKClcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB0aGlzLm9uUmVzaXplLCB0cnVlKVxyXG4gICAgICAgIC8vIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwidnJkaXNwbGF5cHJlc2VudGNoYW5nZVwiLCB0aGlzLm9uUmVzaXplLCB0cnVlKVxyXG4gICAgICAgIHRoaXMubGFzdFJlbmRlciA9IDBcclxuICAgICAgICB0aGlzLmRpc3BsYXkgPSBudWxsXHJcbiAgICB9XHJcbiAgICBvblRleHR1cmVMb2FkZWQoKSB7XHJcbiAgICAgICAgLy8gdGV4dHVyZS53cmFwUyA9IFRIUkVFLlJlcGVhdFdyYXBwaW5nXHJcbiAgICAgICAgLy8gdGV4dHVyZS53cmFwVCA9IFRIUkVFLlJlcGVhdFdyYXBwaW5nXHJcbiAgICAgICAgLy8gdGV4dHVyZS5yZXBlYXQuc2V0KHRoaXMuYm94U2l6ZSwgdGhpcy5ib3hTaXplKVxyXG5cclxuICAgICAgICBsZXQgZ2VvbWV0cnkgPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkodGhpcy5ib3hTaXplLCB0aGlzLmJveFNpemUsIHRoaXMuYm94U2l6ZSlcclxuICAgICAgICBsZXQgbWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoeyBjb2xvcjogMHhmZjAwZmYsIHNpZGU6IFRIUkVFLkJhY2tTaWRlLCB3aXJlZnJhbWU6IHRydWUgfSApXHJcblxyXG4gICAgICAgIC8vIEFsaWduIHRoZSBza3lib3ggdG8gdGhlIGZsb29yICh3aGljaCBpcyBhdCB5PTApLlxyXG4gICAgICAgIHRoaXMuc2t5Ym94ID0gbmV3IFRIUkVFLk1lc2goZ2VvbWV0cnksIG1hdGVyaWFsKVxyXG4gICAgICAgIHRoaXMuc2t5Ym94LnBvc2l0aW9uLnkgPSB0aGlzLmJveFNpemUgLyAyXHJcbiAgICAgICAgdGhpcy5zY2VuZS5hZGQodGhpcy5za3lib3gpXHJcbiAgICAgICAgdGhpcy5wbGFjZVBpZWNlcygpXHJcbiAgICAgICAgdGhpcy5wbGFjZVNwaGVyZSgpXHJcbiAgICB9XHJcbiAgICBwbGFjZVNwaGVyZSgpe1xyXG4gICAgICAgIHZhciBnZW9tZXRyeSA9IG5ldyBUSFJFRS5TcGhlcmVHZW9tZXRyeSggNTAsIDE2LCA4ICk7XHJcbiAgICAgICAgZ2VvbWV0cnkuc2NhbGUoLTEsMSwxKVxyXG5cdFx0Ly8gZ2VvbWV0cnkuc2NhbGUoIC0gMSwgMSwgMSApO1xyXG4gICAgICAgIC8vIHZhciBzcGhlcmUgPSByZXF1aXJlKFwiLi4vLi4vcHVibGljL2ltYWdlcy9zcGhlcmUgKDIpLmpwZ1wiKVxyXG4gICAgICAgIHZhciBsb2FkZXIgPSBuZXcgVEhSRUUuVGV4dHVyZUxvYWRlcigpXHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzXHJcbiAgICAgICAgbG9hZGVyLmxvYWQoXCJwdWJsaWMvaW1hZ2VzL3NwaGVyZSAoMikuanBnXCIsZnVuY3Rpb24odGV4dHVyZSl7XHJcbiAgICAgICAgICAgIHZhciBtYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCgge1xyXG4gICAgXHRcdFx0bWFwOiB0ZXh0dXJlXHJcbiAgICBcdFx0fSApO1xyXG5cclxuICAgIFx0XHR2YXIgbWVzaCA9IG5ldyBUSFJFRS5NZXNoKCBnZW9tZXRyeSwgbWF0ZXJpYWwgKTtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2cobWVzaClcclxuICAgICAgICAgICAgbWVzaC5wb3NpdGlvbi5zZXQoMCwwLDEwKVxyXG4gICAgXHRcdHNlbGYuc2NlbmUuYWRkKCBtZXNoICk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgIHBsYWNlUGllY2VzKCkge1xyXG5cclxuICAgICAgICB0aGlzLmNvbHVtbk51bWJlciA9IDRcclxuICAgICAgICB0aGlzLnBpZWNlTnVtYmVyID0gdGhpcy5jb2x1bW5OdW1iZXIgKiB0aGlzLmNvbHVtbk51bWJlclxyXG4gICAgICAgIHRoaXMuc2NhbGVkV2lkdGggPSAxNlxyXG4gICAgICAgIHRoaXMuc2NhbGVkSGVpZ2h0ID0gOVxyXG4gICAgICAgIHRoaXMuZnJlZVBpZWNlTnVtYmVyID0gdGhpcy5waWVjZU51bWJlciAqIDEgLyAyXHJcbiAgICAgICAgdGhpcy5mcmVlUGllY2VMaXN0ID0gW11cclxuICAgICAgICB0aGlzLnBsYW5lV2lkdGggPSB0aGlzLnNjYWxlZFdpZHRoIC8gdGhpcy5jb2x1bW5OdW1iZXJcclxuICAgICAgICB0aGlzLnBsYW5lSGVpZ2h0ID0gdGhpcy5zY2FsZWRIZWlnaHQgLyB0aGlzLmNvbHVtbk51bWJlclxyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRNZXNoID0gbnVsbCAvL3RoZSBsYXN0IGNsaWNrZWQgbWVzaElkXHJcbiAgICAgICAgdGhpcy5ob2xkTWFwID0ge31cclxuICAgICAgICB0aGlzLm1lc2hDYW52YXNNYXAgPSB7fVxyXG4gICAgICAgIC8vIHRoaXMuXHJcbiAgICAgICAgICAgIC8vIGxvYWQgYW4gaW1hZ2VcclxuICAgICAgICBsZXQgaW1hZ2VPYmogPSBuZXcgSW1hZ2UoKVxyXG4gICAgICAgIGltYWdlT2JqLnNyYyA9IHJlcXVpcmUoXCIuLi8uLi9wdWJsaWMvaW1hZ2VzL3B1enpsZXMvY2FydG9vbiAoNSkuanBnXCIpXHJcbiAgICAgICAgbGV0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIilcclxuICAgICAgICBsZXQgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIilcclxuICAgICAgICBsZXQgd3MgPSAoY2FudmFzLndpZHRoIC8gMS41KSAvIGltYWdlT2JqLndpZHRoXHJcbiAgICAgICAgbGV0IGhzID0gKGNhbnZhcy5oZWlnaHQgLyAxLjUpIC8gaW1hZ2VPYmouaGVpZ2h0XHJcbiAgICAgICAgdGhpcy5zY2FsZSA9IE1hdGgubWluKHdzLCBocylcclxuICAgICAgICB0aGlzLnBpZWNlV2lkdGggPSBpbWFnZU9iai53aWR0aCAvIHRoaXMuY29sdW1uTnVtYmVyXHJcbiAgICAgICAgdGhpcy5waWVjZUhlaWdodCA9IGltYWdlT2JqLmhlaWdodCAvIHRoaXMuY29sdW1uTnVtYmVyXHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMucGllY2VXaWR0aCx0aGlzLnBpZWNlSGVpZ2h0KVxyXG4gICAgICAgIGxldCBzZWxmID0gdGhpc1xyXG4gICAgICAgIGltYWdlT2JqLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgaW5kZXggPSAwLCB0ZXh0dXJlLCBtYXRlcmlhbCwgbWVzaDsgaSA8IHNlbGYuY29sdW1uTnVtYmVyOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgc2VsZi5jb2x1bW5OdW1iZXI7IGorKywgaW5kZXgrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIilcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmUgPSBuZXcgVEhSRUUuVGV4dHVyZShjYW52YXMpXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoaW1hZ2VPYmosIGkgKiBzZWxmLnBpZWNlV2lkdGgsIGogKiBzZWxmLnBpZWNlSGVpZ2h0LCBzZWxmLnBpZWNlV2lkdGgsIHNlbGYucGllY2VIZWlnaHQsIDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodClcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGV4dHVyZSkgLy8gY2hlY2tzIGlmIHRleHR1cmUgZXhpc3RzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmUubmVlZHNVcGRhdGUgPSB0cnVlXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIG1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFwOiB0ZXh0dXJlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaWRlOiBUSFJFRS5Eb3VibGVTaWRlXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbC50cmFuc3BhcmVudCA9IGZhbHNlXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIG1lc2ggPSBuZXcgVEhSRUUuTWVzaChcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFRIUkVFLlBsYW5lR2VvbWV0cnkoc2VsZi5wbGFuZVdpZHRoLCBzZWxmLnBsYW5lSGVpZ2h0KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWxcclxuICAgICAgICAgICAgICAgICAgICApXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxldCByYW5kb20gPSBNYXRoLnJhbmRvbSgpXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJhbmRvbSA8IHNlbGYuZnJlZVBpZWNlTnVtYmVyIC8gKHNlbGYuY29sdW1uTnVtYmVyICogc2VsZi5jb2x1bW5OdW1iZXIgLSBpbmRleCkgJiYgc2VsZi5mcmVlUGllY2VOdW1iZXIgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB4ID0gLXNlbGYuYm94U2l6ZSAvIDIgKyBzZWxmLnBsYW5lV2lkdGggLyAyICsgTWF0aC5yYW5kb20oKSAqIChzZWxmLmJveFNpemUgLSBzZWxmLnBsYW5lV2lkdGgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB6ID0gLXNlbGYuYm94U2l6ZSAvIDIgKyBzZWxmLnBsYW5lSGVpZ2h0IC8gMiArIE1hdGgucmFuZG9tKCkgKiAoc2VsZi5ib3hTaXplIC0gc2VsZi5wbGFuZUhlaWdodClcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzaC5yb3RhdGlvbi54ID0gTWF0aC5QSSAvIDJcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzaC5wb3NpdGlvbi5zZXQoTWF0aC5yb3VuZCh4KSwgMC41LCBNYXRoLnJvdW5kKHopKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgYmxhbmtNZXNoID0gbWVzaC5jbG9uZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaG9sZE1hcFttZXNoLmlkXSA9IGJsYW5rTWVzaFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBibGFua01lc2gucm90YXRpb24ueCA9IDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmxhbmtNZXNoLm1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAweDgwODA4MCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZGU6IFRIUkVFLkRvdWJsZVNpZGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmxhbmtNZXNoLnBvc2l0aW9uLnNldChpKnNlbGYucGxhbmVXaWR0aCAtIHNlbGYuc2NhbGVkV2lkdGggLyAyICsgc2VsZi5wbGFuZVdpZHRoIC8gMiwgNSArIHNlbGYuc2NhbGVkSGVpZ2h0IC0gc2VsZi5wbGFuZUhlaWdodCAvIDIgLSBqICogc2VsZi5wbGFuZUhlaWdodCwgLTkuOTkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc2NlbmUuYWRkKGJsYW5rTWVzaClcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5mcmVlUGllY2VOdW1iZXItLVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmZyZWVQaWVjZUxpc3QucHVzaChtZXNoLmlkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm1lc2hDYW52YXNNYXBbbWVzaC5pZF0gPSBjYW52YXNcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNoLnBvc2l0aW9uLnNldChpICogc2VsZi5wbGFuZVdpZHRoIC0gc2VsZi5zY2FsZWRXaWR0aCAvIDIgKyBzZWxmLnBsYW5lV2lkdGggLyAyLCA1ICsgc2VsZi5zY2FsZWRIZWlnaHQgLSBzZWxmLnBsYW5lSGVpZ2h0IC8gMiAtIGogKiBzZWxmLnBsYW5lSGVpZ2h0LCAtOS45OSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbWVzaC5wb3NpdGlvbi5zZXQoMCwgMiwtOSlcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLm1lc2hMaXN0LnB1c2gobWVzaClcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnNjZW5lLmFkZChtZXNoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0eXBlb2YgdGhpcy5zY2VuZSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBzd2FsKHtcclxuICAgICAgICAvLyAgICAgdGl0bGU6IFwi5o+Q56S6XCIsXHJcbiAgICAgICAgLy8gICAgIHRleHQ6IFwi5oqK5bGP5bmV5Lit5aSu55qE5bCP5omL5a+55YeG5Zyw5LiK55qE5Zu+54mH77yM54K55Ye75oyJ6ZKu5o2h6LW377yM5YaN5oqK5Zu+54mH5a+55YeG5Y6f5Zu+5L2N572u77yM54K55Ye76LS05LiKXCIsXHJcbiAgICAgICAgLy8gICAgIGNvbmZpcm1CdXR0b25UZXh0OiBcIuWlveeahFwiXHJcbiAgICAgICAgLy8gfSlcclxuICAgIH1cclxuICAgIHJlbmRlcih0aW1lc3RhbXApIHtcclxuICAgICAgICAvLyB2YXIgZGVsdGEgPSBNYXRoLm1pbih0aW1lc3RhbXAgLSB0aGlzLmxhc3RSZW5kZXIsIDUwMClcclxuICAgICAgICB0aGlzLmxhc3RSZW5kZXIgPSB0aW1lc3RhbXBcclxuICAgICAgICAgICAgLy/lpITnkIbpvKDmoIfngrnlh7tcclxuICAgICAgICB0aGlzLnJheWNhc3Rlci5zZXRGcm9tQ2FtZXJhKHRoaXMubW91c2UsIHRoaXMuY2FtZXJhKVxyXG4gICAgICAgIGxldCBpbnRlcnNlY3RzID0gdGhpcy5yYXljYXN0ZXIuaW50ZXJzZWN0T2JqZWN0cyh0aGlzLnNjZW5lLmNoaWxkcmVuKVxyXG4gICAgICAgIHRoaXMubW91c2UueCA9IHRoaXMubW91c2UueSA9IHVuZGVmaW5lZFxyXG4gICAgICAgIGlmIChpbnRlcnNlY3RzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coaW50ZXJzZWN0cylcclxuICAgICAgICAgICAgbGV0IGNsaWNrRmxhZyA9IGZhbHNlXHJcbiAgICAgICAgICAgIGZvciAobGV0IG1lc2ggb2YgdGhpcy5tZXNoTGlzdCkge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZyZWVQaWVjZUxpc3QuaW5kZXhPZihtZXNoLmlkKSA+IC0xICYmIG1lc2guaWQgPT0gaW50ZXJzZWN0c1swXS5vYmplY3QuaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBtZXNoLm1hdGVyaWFsLmNvbG9yLnNldCgweGZmMDAwMClcclxuICAgICAgICAgICAgICAgICAgICBpZih0aGlzLnNlbGVjdGVkTWVzaCE9PW51bGwpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFyQ2FudmFzKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE1lc2gudmlzaWJsZSA9IHRydWVcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE1lc2ggPSBtZXNoXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3VzZS5waWNrQnRuLmlubmVySFRNTCA9IFwi6LS05LiKXCJcclxuICAgICAgICAgICAgICAgICAgICBjbGlja0ZsYWcgPSB0cnVlXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIG1lc2gudmlzaWJsZSA9IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwaW5cIikuYXBwZW5kQ2hpbGQodGhpcy5tZXNoQ2FudmFzTWFwW21lc2guaWRdKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKHRoaXMuc2VsZWN0ZWRNZXNoICYmIHRoaXMuaG9sZE1hcFt0aGlzLnNlbGVjdGVkTWVzaC5pZF0uaWQgPT0gaW50ZXJzZWN0c1swXS5vYmplY3QuaWQpe1xyXG4gICAgICAgICAgICAgICAgbGV0IHQgPSBpbnRlcnNlY3RzWzBdLm9iamVjdC5wb3NpdGlvblxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE1lc2gucG9zaXRpb24uc2V0KHQueCx0LnksdC56KVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE1lc2gucm90YXRpb24uc2V0KDAsMCwwKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5ob2xkTWFwW3RoaXMuc2VsZWN0ZWRNZXNoLmlkXS5wb3NpdGlvbi56IC09IDFcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRNZXNoLnZpc2libGUgPSB0cnVlXHJcbiAgICAgICAgICAgICAgICB0aGlzLm1vdXNlLnBpY2tCdG4uaW5uZXJIVE1MID0gXCLmjaHotbdcIlxyXG4gICAgICAgICAgICAgICAgLy/lnKjmnKrmi7zmiJDlm77niYfliJfooajkuK3lj5blh7rlvZPliY3poblcclxuICAgICAgICAgICAgICAgIHRoaXMuZnJlZVBpZWNlTGlzdC5zcGxpY2UodGhpcy5mcmVlUGllY2VMaXN0LmluZGV4T2YodGhpcy5zZWxlY3RlZE1lc2guaWQpLDEpXHJcbiAgICAgICAgICAgICAgICAvL+a4healmuW9k+WJjemAieWPlueahOWbvuWDj1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhckNhbnZhcygpXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkTWVzaCA9IG51bGxcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMuZnJlZVBpZWNlTGlzdC5sZW5ndGggPT0gMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgc3dhbCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOlwi5oGt5Zac77yBXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IFwi5oiQ5Yqf5ou85a6M5LqG5LiA5byg5Zu+77yM5Y+v5piv5oiR5Lmf5LiN5Lya57uZ5L2g5rWB6YePXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiBcIuWlveeahFwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZih0aGlzLnNlbGVjdGVkTWVzaCAmJiAhY2xpY2tGbGFnKXtcclxuICAgICAgICAgICAgICAgIHRoaXMubW91c2UucGlja0J0bi5pbm5lckhUTUwgPSBcIuaNoei1t1wiXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkTWVzaC52aXNpYmxlID0gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhckNhbnZhcygpXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkTWVzaCA9IG51bGxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jb250cm9scy51cGRhdGUoKVxyXG4gICAgICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc2NlbmUsdGhpcy5jYW1lcmEpXHJcblxyXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLnJlbmRlcilcclxuICAgIH1cclxuICAgIG9uUmVzaXplKGUpIHtcclxuICAgICAgICB0aGlzLmNhbWVyYS5hc3BlY3QgPSB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodDtcclxuXHRcdHRoaXMuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcclxuXHRcdHRoaXMucmVuZGVyZXIuc2V0U2l6ZSggd2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCApO1xyXG4gICAgfVxyXG4gICAgY2xlYXJDYW52YXMoKXtcclxuICAgICAgICBsZXQgY2FudmFzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwaW4gY2FudmFzXCIpXHJcbiAgICAgICAgbGV0IHBpbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGluXCIpXHJcbiAgICAgICAgd2hpbGUoY2FudmFzIT1udWxsKXtcclxuICAgICAgICAgICAgcGluLnJlbW92ZUNoaWxkKGNhbnZhcylcclxuICAgICAgICAgICAgY2FudmFzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwaW4gY2FudmFzXCIpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2phdmFzY3JpcHRzL2dhbWUuanNcbiAqKi8iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBNb3VzZSBleHRlbmRzIFRIUkVFLlZlY3RvcjJ7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcyl7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpXHJcbiAgICAgICAgdGhpcy54ID0gdW5kZWZpbmVkXHJcbiAgICAgICAgdGhpcy55ID0gdW5kZWZpbmVkXHJcbiAgICAgICAgLy8gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIFwiY2xpY2tcIiwgdGhpcy5vbk1vdXNlQ2xpY2suYmluZCh0aGlzKSwgZmFsc2UgKVxyXG4gICAgICAgIHRoaXMucGlja0J0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGljay1idG5cIilcclxuICAgICAgICB0aGlzLnBpY2tIYW5kID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwaWNrLWhhbmRcIilcclxuICAgICAgICB0aGlzLnBpY2tCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5idG5PbkNsaWNrLmJpbmQodGhpcyksZmFsc2UpXHJcbiAgICAgICAgLy8gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMub25Nb3VzZUNsaWNrLmJpbmQodGhpcyksZmFsc2UpXHJcbiAgICB9XHJcbiAgICBvbk1vdXNlQ2xpY2soIGV2ZW50ICkge1xyXG4gICAgXHQvLyBjYWxjdWxhdGUgbW91c2UgcG9zaXRpb24gaW4gbm9ybWFsaXplZCBkZXZpY2UgY29vcmRpbmF0ZXNcclxuICAgIFx0Ly8gKC0xIHRvICsxKSBmb3IgYm90aCBjb21wb25lbnRzXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coZXZlbnQuY2xpZW50WCxldmVudC5jbGllbnRZKVxyXG4gICAgICAgIHRoaXMueCA9ICggZXZlbnQuY2xpZW50WCAvIHdpbmRvdy5pbm5lcldpZHRoICkgKiAyIC0gMVxyXG4gICAgICAgIHRoaXMueSA9IC0gKCBldmVudC5jbGllbnRZIC8gd2luZG93LmlubmVySGVpZ2h0ICkgKiAyICsgMVxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMueCx0aGlzLnkpXHJcbiAgICB9XHJcbiAgICBidG5PbkNsaWNrKCBldmVudCApIHtcclxuICAgICAgICB0aGlzLnggPSAoIDAuNDYgKSAqIDIgLSAxXHJcbiAgICAgICAgdGhpcy55ID0gLSAoIDAuMzk1ICkgKiAyICsgMVxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMueCx0aGlzLnkpXHJcbiAgICB9XHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvamF2YXNjcmlwdHMvbW91c2UuanNcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJpbWFnZXMvcHV6emxlcy9jYXJ0b29uICg1KS5qcGdcIjtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vcHVibGljL2ltYWdlcy9wdXp6bGVzL2NhcnRvb24gKDUpLmpwZ1xuICoqIG1vZHVsZSBpZCA9IDNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gc3dhbDtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIGV4dGVybmFsIFwic3dhbFwiXG4gKiogbW9kdWxlIGlkID0gNFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==